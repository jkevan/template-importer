/*!CK:2514667549!*//*1444681725,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["NupFE"]); }

__d("CommentsPluginSentryAction",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"};},null,{});
__d("ComposedBlockType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9};},null,{});
__d("ComposedInlineStyle",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};},null,{});
__d("ComposedLinkEntityProperties",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={URL:"url",SHIMMED_URL:"shimmedURL"};},null,{});
__d("DeveloperCommentsModerationSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={APP:"app",URL:"url"};},null,{});
__d('CommentAdminPanelController',['Arbiter','AsyncRequest','Button','ChannelConstants','CSS','DOM','Event','Toggler','URI','Vector','$','ge','XD','MultiLoginPopup'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=c('XD').UnverifiedXD,u=function(v){Object.assign(this,{locale:v.locale,channel:v.channel,controllerID:v.controllerID,commentIDs:v.commentIDs,domIDs:v.domIDs,duplicateComments:[],fetchMoreCommentsIsPending:{},blacklistedActors:v.blacklistedActors,actorToCommentInfoMap:v.actorToCommentIDMap,commentInfoMap:v.commentInfoMap,inAggregatedView:v.inAggregatedView,inModerationQueue:v.inModerationQueue,inContextualDialog:v.inContextualDialog,isTopLevelCommentPollingEnabled:false,loggedIn:v.loggedIn,newestCommentTimestamp:v.newestCommentTimestamp,realTimePollingParams:{},userOwnsPages:v.userOwnsPages,recentlyBlacklistedActors:v.blacklistedActors});h.subscribe(k.getArbiterType('comments_plugin_new_post'),(function(w,x){if(x.obj.target===this.realTimePollingParams.target){if(s(x.obj.comment_element_id))return;var y=babelHelpers._extends({},this.realTimePollingParams);y.post_fbid=x.obj.post_fbid;var z=x.obj.parent_comment_id;if(z){var aa=s(z);if(!aa)return;var ba=m.scry(aa,'.fbFeedbackPager.uiMorePager');if(ba.length>0)return;y.parent_comment_id=z;y.is_reply_thread=true;}else{if(!this.isTopLevelCommentPollingEnabled)return;y.is_reply_thread=false;}this.pollForComments(y);}}).bind(this));this.controlledRegion=r(this.controllerID);this.attachClickHandlers();if(this.inModerationQueue)this.registerModeratorQueueHandlers(true);};Object.assign(u,{allControllers:{},mainController:null,contextualControllers:{},initController:function(v){var w=new u(v),x=v.controllerID;u.allControllers[x]=w;if(w.inContextualDialog){u.contextualControllers[x]=w;}else u.mainController=w;},syncController:function(v,w){var x=u.allControllers[v];x.attachClickHandlers();if(!x.isControllingModerationQueue())return;x.deselectComments(w);x.registerModeratorQueueHandlers(false);x.synchronizeModeratorQueueUI();},resetController:function(v){var w=u.allControllers[v];w.resetController();},appendComments:function(v,w,x){var y=u.allControllers[v];y.appendComments(w,x);},prependComments:function(v,w,x){var y=u.allControllers[v];y.prependComments(w,x);},updateController:function(v,w,x,y,z,aa,ba){var ca=u.allControllers[v];ca.updateController(w,x,y,z,aa,ba);if(!u.mainController.loggedIn)c('MultiLoginPopup').reattachLoginInterceptors();if(!ca.isControllingModerationQueue())return;ca.registerModeratorQueueHandlers(false);ca.synchronizeModeratorQueueUI();},updatePollingParamsCommentas:function(v,w){var x=u.allControllers[v];x.updatePollingParamsCommentas(w);},registerMoreCommentsLinkHandler:function(v,w){var x=u.allControllers[v];x.registerMoreCommentsLinkHandler(w);},replaceContentMaybe:function(v,w){var x=m.scry(document.documentElement,v)[0];if(x)m.replace(x,w);},notifyCommentCreated:function(v){if(!u.mainController.channel)return;t.send({type:'commentCreated',href:v.href,parentCommentID:v.parentCommentID,commentID:v.commentID,message:v.message});},notifyCommentRemoved:function(v){if(!u.mainController.channel)return;t.send({type:'commentRemoved',href:v.href,commentID:v.commentID});},markAsShowingAllReplies:function(v){var w=v+' a.fbUpDownVoteOption',x=m.scry(document.documentElement,w),y=v+' li.fbUpDownVoteOption a.itemAnchor',z=m.scry(document.documentElement,y),aa=x.concat(z);for(var ba=0;ba<aa.length;ba++){var ca=aa[ba],da=new p(ca.getAttribute('ajaxify'));da.addQueryData({show_all_replies:1});ca.setAttribute('ajaxify',da.toString());}},setLoggedIn:function(v){u.mainController.loggedIn=v;},blacklistChangeListener:function(v,w,x){var y=r(w);n.listen(v,'change',function(){if(v.options[v.selectedIndex].value==x){l.show(y);}else l.hide(y);});}});Object.assign(u.prototype,{isControllingModerationQueue:function(){var v=this==u.mainController&&this.inModerationQueue;return v;},resetController:function(){this.commentIDs=[];this.domIDs=[];},updateController:function(v,w,x,y,z,aa){v.forEach(function(ca){this.commentIDs.push(ca);},this);w.forEach(function(ca){this.domIDs.push(ca);},this);Object.assign(this.blacklistedActors,y);for(var ba in z){if(!this.actorToCommentInfoMap[ba])this.actorToCommentInfoMap[ba]=[];z[ba].forEach(function(ca){this.actorToCommentInfoMap[ba].push(ca);},this);}this.newestCommentTimestamp=Math.max(this.newestCommentTimestamp,x);Object.assign(this.commentInfoMap,aa);this.attachClickHandlers();},updatePollingParamsCommentas:function(v){this.realTimePollingParams.commentas=v;},attachClickHandlers:function(){for(var v=0;v<this.domIDs.length;v++){var w='li[id="'+this.domIDs[v]+'"]',x=m.scry(this.controlledRegion,w);if(x.length===0)continue;var y=x[0],z=m.scry(y,'a.uiCloseButton');n.listen(y,'mouseleave',this.closeStickyMenuFlyouts.bind(this,z));var aa=m.scry(y,'.fbModerateDropdownContainer');if(aa.length>0){var ba=aa[0],ca=m.find(ba,'.fbModerateDropdownLink');n.listen(ca,'mouseover',(function(la,event){l.addClass(la,'fbUnderlineText');}).bind(null,ca));n.listen(ca,'mouseout',(function(la,event){l.removeClass(la,'fbUnderlineText');}).bind(null,ca));var da=m.find(ba,'.fbModerationDropdownList');n.listen(ca,'click',this.exposeDropDownMenu.bind(this,ca,da));n.listen(da.parentNode,'mouseleave',this.concealDropDownMenu.bind(this,ca,da));this.attachDropDownHandlers(y,this.commentIDs[v],da);}var ea=this.commentInfoMap[this.commentIDs[v]].actor,fa=!!this.recentlyBlacklistedActors[ea];if(fa){var ga=m.scry(y,'.fbUndoBlacklistLink');if(ga.length>0){var ha=ga[0];n.listen(ha,'click',this.toggleBlackListAndSync.bind(this,this.commentIDs[v]));}}}var ia=m.scry(this.controlledRegion,'.fbReplyButton'),ja=m.scry(this.controlledRegion,'.fbReplyAfterLoginButton');for(var ka=0;ka<ia.length;ka++)if(this.loggedIn){l.show(ia[ka]);l.hide(ja[ka]);}else{l.hide(ia[ka]);l.show(ja[ka]);}},closeStickyMenuFlyouts:function(v,event){o.hide();for(var w=0;w<v.length;w++)v[w].blur();},attachDropDownHandlers:function(v,w,x){var y=m.scry(x,'.fbBanUser');if(y.length>0){var z=y[0],aa=m.find(z,'^.fbFeedbackPost');if(aa.id.startsWith(w))n.listen(z,'click',this.toggleBlackListAndSync.bind(this,w));}},exposeDropDownMenu:function(v,w,event){if(l.shown(w))return this.concealDropDownMenu(v,w,event);n.stop(event);l.show(w);w.focus();v.blur();var x=m.find(document.documentElement,'.commentContent'),y=q.getElementPosition(w).y+q.getElementDimensions(w).y-q.getElementDimensions(x).y;if(y>0){y=y+2;this.menuBuffer=m.create('div',{className:'menuBuffer',style:{height:y+'px'}});m.appendContent(x,this.menuBuffer);}return false;},concealDropDownMenu:function(v,w,event){n.stop(event);l.removeClass(v,'fbUnderlineText');l.hide(w);v.blur();if(this.menuBuffer){m.remove(this.menuBuffer);delete this.menuBuffer;}return false;},registerMoreCommentsLinkHandler:function(v){var w=v.pager_id;if(!s(w))return;var x=r(w);n.listen(x,'click',this.fetchMoreComments.bind(this,v,x));},deselectComments:function(v){for(var w=0;w<v.length;w++)delete this.selectedCommentsMap[v[w]];},registerModeratorQueueHandlers:function(v){if(v)this.selectedCommentsMap={};this.selectableComments=this.findSelectableComments();this.selectableCheckboxes=[];this.selectAllCheckBoxes=m.scry(this.controlledRegion,'.fbSelectAllCheckbox');this.approveButtons=m.scry(this.controlledRegion,'.fbApproveButton');this.removeButtons=m.scry(this.controlledRegion,'.fbRemoveButton');for(var w=0;w<this.selectableComments.length;w++){var x=this.selectableComments[w].id,y=!!this.selectedCommentsMap[x];this.setCommentSelection(this.selectableComments[w],y);var z=m.find(this.selectableComments[w],'.fbCommentCheckbox');n.listen(z,'click',this.toggleCommentSelection.bind(this));n.listen(this.selectableComments[w],'click',this.toggleCommentSelection.bind(this));z.checked=y;this.selectableCheckboxes.push(z);}for(var aa=0;aa<this.selectAllCheckBoxes.length;aa++){this.selectAllCheckBoxes[aa].checked=false;this.selectAllCheckBoxes[aa].disabled=this.selectableComments.length===0;n.listen(this.selectAllCheckBoxes[aa],'click',this.toggleSelectAllCheckbox.bind(this,this.selectAllCheckBoxes[aa]));}for(var ba=0;ba<this.approveButtons.length;ba++)n.listen(this.approveButtons[ba],'click',this.setBulkPrivacy.bind(this,false));for(var ca=0;ca<this.removeButtons.length;ca++)n.listen(this.removeButtons[ca],'click',this.setBulkPrivacy.bind(this,true));},findSelectableComments:function(){var v=m.scry(this.controlledRegion,'.fbTopLevelComment'),w=[];for(var x=0;x<v.length;x++)if(m.scry(v[x],'.fbCommentCheckbox').length===1&&m.scry(v[x],'.fbCommentOverlay').length===0)w.push(v[x]);return w;},toggleCommentSelection:function(event){var v={a:true},w=event.getTarget(),x=w.tagName.toLowerCase(),y=w.parentNode.tagName.toLowerCase();if(v[x]||v[y])return;var z=l.hasClass(w,'fbFeedbackPost')?w:m.find(w,'^.fbFeedbackPost'),aa=this.commentIsSelected(z),ba=!aa;this.setCommentSelection(z,ba);this.synchronizeModeratorQueueUI();if(l.hasClass(w,'fbCommentCheckbox'))n.stop(event);},commentIsSelected:function(v){return l.hasClass(v,'fbCommentSelected');},setCommentSelection:function(v,w){if(w){this.selectComment(v);}else this.deselectComment(v);},selectComment:function(v){l.addClass(v,'fbCommentSelected');this.selectedCommentsMap[v.id]=true;m.find(v,'.fbCommentCheckbox').checked=true;},deselectComment:function(v){l.removeClass(v,'fbCommentSelected');delete this.selectedCommentsMap[v.id];m.find(v,'.fbCommentCheckbox').checked=false;},toggleSelectAllCheckbox:function(v,event){n.stop(event);var w=v.checked;for(var x=0;x<this.selectableComments.length;x++){this.setCommentSelection(this.selectableComments[x],v.checked);this.selectableCheckboxes[x].checked=w;}this.synchronizeBulkModerationCheckboxes(w);this.synchronizeBulkModerationButtons(w);},synchronizeModeratorQueueUI:function(){var v=0;for(var w=0;w<this.selectableCheckboxes.length;w++)if(this.selectableCheckboxes[w].checked)v++;var x=this.selectableCheckboxes.length>0&&v==this.selectableCheckboxes.length;this.synchronizeBulkModerationCheckboxes(x);this.synchronizeBulkModerationButtons(v>0);},synchronizeBulkModerationCheckboxes:function(v){for(var w=0;w<this.selectAllCheckBoxes.length;w++)this.selectAllCheckBoxes[w].checked=v;},synchronizeBulkModerationButtons:function(v){for(var w=0;w<this.approveButtons.length;w++)j.setEnabled(this.approveButtons[w],v);for(var x=0;x<this.removeButtons.length;x++)j.setEnabled(this.removeButtons[x],v);},setBulkPrivacy:function(v,event){n.stop(event);this.synchronizeBulkModerationButtons(false);var w=[];for(var x in this.selectedCommentsMap)w.push(x);var y={is_private:v,in_moderation_queue:true,comment_ids:w,uniqids:w,controller_id:this.controllerID,locale:this.locale,owns_pages:this.userOwnsPages,in_aggregated_view:this.inAggregatedView,in_contextual_dialog:this.inContextualDialog};new i().setURI('/ajax/connect/comments/set_bulk_private.php').setData(y).send();return false;},toggleBlackListAndSync:function(v,event){n.stop(event);var w=this.commentInfoMap[v].actor,x={blacklist:!this.blacklistedActors[w],in_moderation_queue:this.inModerationQueue,comment_id:v,other_comment_ids:this.getOtherCommentsByActor(w,v),uniqid:v,controller_id:this.controllerID,locale:this.locale,owns_pages:this.userOwnsPages,in_aggregated_view:this.inAggregatedView,in_contextual_dialog:this.inContextualDialog};new i().setURI('/ajax/connect/comments/set_blacklist.php').setData(x).setHandler((function(y){this.blacklistedActors[w]=!this.blacklistedActors[w];if(this.blacklistedActors[w]){this.recentlyBlacklistedActors[w]=true;}else delete this.recentlyBlacklistedActors[w];}).bind(this)).send();return false;},getOtherCommentsByActor:function(v,w){return this.actorToCommentInfoMap[v].filter(function(x){return x!=w;});},fetchMoreComments:function(v,w,event){n.kill(event);l.addClass(w,'async_saving');if(this.fetchMoreCommentsIsPending[v.pager_id]===true)return;this.fetchMoreCommentsIsPending[v.pager_id]=true;var x={is_reply_thread:false,in_moderation_queue:false,view_as_moderator:false};Object.assign(x,v);var y=m.scry(r(x.controller_id),this.getCommentsSelector(x));y=y.concat(m.scry(r(x.controller_id),this.getCollapsedCommentsSelector(x)));var z=0,aa=0;for(var ba=0;ba<y.length;ba++)if(!l.hasClass(y[ba],'fbCommentIgnored'))if(l.hasClass(y[ba],'fbCommentHidden')){aa++;}else z++;if(x.is_reply_thread)x.offset=z;x.hidden_offset=aa;if(!x.aggregate_view)delete x.aggregate_view;if(!x.comment_id)delete x.comment_id;if(!x.is_reply_thread)x.comment_ids=this.commentIDs;if(!x.commentas){var ca=u.allControllers[x.controller_id];x.commentas=ca.realTimePollingParams.commentas;}new i().setURI('/ajax/connect/feedback.php').setReadOnly(true).setData(x).setHandler((function(da){this.fetchMoreCommentsIsPending[v.pager_id]=false;}).bind(this)).send();},getCommentsSelector:function(v){var w=v.is_reply_thread?'li.fbCommentReply':'li.fbTopLevelComment';if(v.controller_id!=v.uniqid)w='div[id="'+v.uniqid+'"] '+w;return w;},getCollapsedCommentsSelector:function(v){var w=v.is_reply_thread?'div.fbCommentReply':'div.fbTopLevelComment';if(v.controller_id!=v.uniqid)w='div[id="'+v.uniqid+'"] '+w;return w;},getRecentlyBlacklistedActors:function(){var v=[];for(var w in this.recentlyBlacklistedActors)v.push(w);return v;},appendComments:function(v,w){var x=s(v);if(!x)return;var y=m.scry(x,'.fbFeedbackReplies')[0];if(!y)return;m.appendContent(y,w);},prependComments:function(v,w){var x=m.scry(document.documentElement,v)[0];if(!x)return;var y=w.getNodes(),z=[];for(var aa=y.length;aa-->0;){var ba={id:m.getID(y[aa]),element:y[aa]};z.push(ba);var ca=s(ba.id);if(ca){l.hide(ba.element);this.duplicateComments.push(ba.element);for(var da=0;da<z.length;++da)m.insertAfter(ca,z[da].element);z=[];}}for(aa=0;aa<z.length;++aa)m.prependContent(x,z[aa].element);setTimeout(this.removeDuplicateComments.bind(this),0);},removeDuplicateComments:function(){for(var v=0;v<this.duplicateComments.length;++v)m.remove(this.duplicateComments[v]);this.duplicateComments=[];},pollForComments:function(v){var w={locale:this.locale};Object.assign(w,v);if(!w.is_reply_thread)w.comment_ids=this.commentIDs;w.newest_comment_timestamp=this.newestCommentTimestamp;var x=this.handlePollResponse.bind(this),y=this.handlePollError.bind(this),z=this.handlePollFinally.bind(this);new i().setURI('/plugins/comments/poll').setReadOnly(true).setData(w).setMethod('GET').setHandler(x).setErrorHandler(y).setFinallyHandler(z).send();},handlePollResponse:function(v){},handlePollError:function(v){},handlePollFinally:function(v){}});f.exports=window.CommentAdminPanelController||u;},null);
__d('WindowComm',['URI'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_callbacks:{},makeHandler:function(j,k,l){k=k||'opener';if(!l)l='f'+(Math.random()*(1<<30)).toString(16).replace('.','');i._callbacks[l]=j;return new h('/connect/window_comm.php').setQueryData({_id:l,_relation:k}).getQualifiedURI().toString();},_recv:function(j){var k=new h(j).getQueryData();i._callbacks[k._id](k);}};f.exports=i;b.WindowComm=i;},null);
__d('OpenIDRequest',['AsyncRequest','AsyncSignal','URI','UserAgent_DEPRECATED','PHPQuerySerializer','coalesce','createArrayFromMixed','errorCode'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();function p(){var q=new h().setReadOnly(true).setHandler(this.asyncResponseHandler.bind(this)).setErrorHandler(this.asyncErrorHandler.bind(this));Object.assign(this,{openidUrl:null,requestId:p.maxRequestId++,successResponseHandler:null,cancelHandler:null,intermediateHandler:null,immediateMode:false,useExtensions:true,thirdPartyLogin:false,popupWindow:null,asyncRequest:q,retryCount:0});p.requests[this.requestId]=this;}p.getRequestById=function(q){return p.requests[q];};p.prototype.setOpenIDUrl=function(q){this.openidUrl=q;return this;};p.prototype.setSuccessHandler=function(q){this.successResponseHandler=q;return this;};p.prototype.setErrorHandler=function(q){this.errorHandler=q;return this;};p.prototype.setCancelHandler=function(q){this.cancelHandler=q;return this;};p.prototype.setImmediateMode=function(q){this.immediateMode=q;return this;};p.prototype.setUseExtensions=function(q){this.useExtensions=q;return this;};p.prototype.setIntermediateHandler=function(q){this.intermediateHandler=q;return this;};p.prototype.setThirdPartyLogin=function(q){this.thirdPartyLogin=q;return this;};p.prototype.send=function(){if(!this.openidUrl)throw "openidUrl is a required parameter. Call setOpenIDUrl()";var q=this.calculateRedirectUrl();if(!q){this.logMetrics('redirectUrlNotFound');return;}if(this.immediateMode){this.createHiddenIframe(q);}else{if(this.popupWindow)throw "OpenID popup is already in progress";this.showPopup(q);}this.logMetrics('requestSent');};p.prototype.calculateRedirectUrl=function(q){var r=this.immediateMode?'checkid_immediate':'checkid_setup',s={'openid.mode':r},t;if(!p.cache[this.openidUrl])return null;t=p.cache[this.openidUrl].url;var u=new j(new j(t).getQueryData()['openid.return_to']);u.addQueryData({context:p.context,request_id:this.requestId});s['openid.return_to']=u.toString();s.third_party_login=this.thirdPartyLogin;return new j(t).addQueryData(s).getQualifiedURI();};p.prototype.createHiddenIframe=function(q){var r='openid_request_'+this.requestId,s=document.body.appendChild(document.createElement('div')),t=function(){s.innerHTML='<iframe name="'+r+'"'+' src="'+q.toString()+'"'+' scrolling="no" '+' frameborder="0" class="hidden_elem"></iframe>';};if(k.ie()){s.innerHTML='<iframe src="javascript:false"></iframe>';setTimeout(t,0);}else t();};p.prototype.showPopup=function(q){var r;if(p.cache[this.openidUrl])r=p.cache[this.openidUrl].popup_dimensions;if(!r||!r.height||!r.width)r={height:'580',width:'790'};var s={x:m(window.screenX,window.screenLeft),y:m(window.screenY,window.screenTop),width:m(window.outerWidth,document.body.clientWidth),height:m(window.outerHeight,document.body.clientHeight)},t=s.x+(s.width-r.width)/2,u=s.y+(s.height-r.height)/2,v=["location=yes","scrollbars=1","left="+t,"top="+u,"resizable=yes","height="+r.height,"width="+r.width].join(",");this.popupWindow=window.open(q.toString(),'_blank',v);this.popupPollInterval=setInterval(this.pollPopupWindow.bind(this),100);this.popupWindow.focus();};p.prototype.pollPopupWindow=function(){if(!(this.popupPollInterval&&this.popupWindow))return;if(this.popupWindow.closed){clearInterval(this.popupPollInterval);this.cancel();}};p.prototype.closePopupIfOpen=function(){if(this.popupWindow){if(this.popupPollInterval)clearInterval(this.popupPollInterval);this.popupWindow.close();}this.popupWindow=null;};p.prototype.cancel=function(){this.closePopupIfOpen();if(this.cancelHandler)this.cancelHandler();this.logMetrics('requestCanceled');};p.prototype.logMetrics=function(q){new i('/ajax/openid/metrics.php',{metric:q,immediate:this.immediateMode,context:p.context,openid_url:this.openidUrl}).send();};p.prototype.triggerCompleteAuthAsync=function(q){if(q.charAt(0)=='?'||q.charAt(0)=='&')q=q.substr(1);var r=l.deserialize(q);this.closePopupIfOpen();if(r['openid.mode']=='cancel'){this.cancel();return;}if(this.intermediateHandler)this.intermediateHandler();this.asyncRequest.setData({openid_params:r}).send();};p.prototype.asyncResponseHandler=function(q){var r=q.getPayload();if(this.successResponseHandler)this.successResponseHandler(r);this.closePopupIfOpen();};p.prototype.cleanHandleResponse=function(q){if(q.css)q.css=n(q.css);this.asyncRequest.handleResponse(q);};p.prototype.asyncErrorHandler=function(q){this.closePopupIfOpen();if(q.error==1428010||q.error==1428011){this.cancel();return;}if(this.errorHandler)this.errorHandler(q);};p.prototype.retry=function(){++this.retryCount;this.requestId=p.maxRequestId++;this.send();};p.prototype.setProviderCache=function(q){p.cache=q;return this;};p.cache={};p.requests=[];p.maxRequestId=0;p.context='default';f.exports=p;},null);
__d('WidgetArbiter',['createArrayFromMixed'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_findSiblings:function(){if(i._siblings)return;i._siblings=[];for(var j=parent.frames.length-1;j>=0;j--)try{if(parent.frames[j]&&parent.frames[j].Arbiter&&parent.frames[j].Arbiter.inform)i._siblings.push(parent.frames[j].Arbiter);}catch(k){}},inform:function(){i._findSiblings();var j=h(arguments);i._siblings.forEach(function(k){k.inform.apply(k,j);});}};f.exports=i;},null);
__d('SelectionState',['immutable'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';var k=h.Record,l={anchorKey:'',anchorOffset:0,focusKey:'',focusOffset:0,isBackward:false,hasFocus:false},m=k(l);i=babelHelpers.inherits(n,m);j=i&&i.prototype;n.prototype.serialize=function(){return ('Anchor: '+this.getAnchorKey()+':'+this.getAnchorOffset()+', '+'Focus: '+this.getFocusKey()+':'+this.getFocusOffset()+', '+'Is Backward: '+String(this.getIsBackward())+', '+'Has Focus: '+String(this.getHasFocus()));};n.prototype.getAnchorKey=function(){return this.anchorKey;};n.prototype.getAnchorOffset=function(){return this.anchorOffset;};n.prototype.getFocusKey=function(){return this.focusKey;};n.prototype.getFocusOffset=function(){return this.focusOffset;};n.prototype.getIsBackward=function(){return this.isBackward;};n.prototype.getHasFocus=function(){return this.hasFocus;};n.prototype.hasEdgeWithin=function(o,p,q){var r=this.getAnchorKey(),s=this.getFocusKey();if(r===s&&r===o){var t=this.getStartOffset(),u=this.getEndOffset();return p<=u&&t<=q;}if(o!==r&&o!==s)return false;var v=o===r?this.getAnchorOffset():this.getFocusOffset();return p<=v&&q>=v;};n.prototype.isCollapsed=function(){return (this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset());};n.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey();};n.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset();};n.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey();};n.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset();};n.createEmpty=function(o){return new n({anchorKey:o,anchorOffset:0,focusKey:o,focusOffset:0,isBackward:false,hasFocus:false});};function n(){i.apply(this,arguments);}f.exports=n;},null);
__d('MentionResultsPropTypes',['React','SearchableEntry','SelectionState'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l={viewID:k.string.isRequired,selection:k.instanceOf(j).isRequired,contextComponent:k.object.isRequired,mentionableEntries:k.array.isRequired,highlightedMentionable:k.instanceOf(i),onMentionSelect:k.func.isRequired,onMentionHighlight:k.func.isRequired,onMentionRenderHighlight:k.func.isRequired};f.exports=l;},null);
__d('MentionsLayer.react',['Bootloader','Locale','MentionResultsPropTypes','React','areEqual'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=false,o=i.isRTL(),p,q,r,s,t=5,u=k.createClass({displayName:'MentionsLayer',propTypes:babelHelpers._extends({},j,{typeaheadView:m.func.isRequired,typeaheadViewProps:m.object,autoflip:m.bool,position:m.oneOf(['above','below'])}),getInitialState:function(){return {bootloaded:n};},componentWillMount:function(){if(!this.state.bootloaded)v((function(){this.isMounted()&&this.setState({bootloaded:true});}).bind(this));},_onMentionSelect:function(w,x){x.preventDefault();this.props.onMentionSelect(w,x);},shouldComponentUpdate:function(w,x){return (this.state.bootloaded!==x.bootloaded||!l(this.props.mentionableEntries,w.mentionableEntries)||this.props.highlightedMentionable!==w.highlightedMentionable||this.props.characterOffset!==w.characterOffset);},render:function(){if(!this.state.bootloaded)return null;var w=this.props.mentionableEntries,x=this.props.selection,y=x.isCollapsed()&&x.getHasFocus()&&w&&w.length,z=null,aa=this.props.typeaheadViewProps,ba=false,ca=false;if(aa&&aa.positionAtContext){ba=true;ca=true;}else if(y)z=s(this.props.characterOffset,o);var da={};if(this.props.autoflip){da.ContextualLayerAutoFlip=q;da.ContextualLayerUpdateOnScroll=r;}var ea=this.props.typeaheadView;return (k.createElement(p,{shown:y,context:this.props.contextComponent,contextBounds:z,containerWidthMatchContext:ca,offsetY:t,position:this.props.position||'below',behaviors:da},k.createElement(ea,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:w||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})));}});function v(w){h.loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(x,y,z,aa){p=x;q=y;r=z;s=aa;n=true;w();});}f.exports=u;},null);
__d('ActorBio.react',['React','fbt'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'ActorBio',propTypes:{stats:j.object.isRequired,preferredTypes:j.array.isRequired},renderLink:function(l){return 'url' in l?h.createElement('a',babelHelpers._extends({},this.props,{href:l.url}),l.name):h.createElement('span',null,l.name);},renderItem:function(l,m){var n;switch(l){case 'employer':if('position' in m){n=i._("{position} at {employer}",[i.param('position',this.renderLink(m.position)),i.param('employer',this.renderLink(m))]);}else n=i._("Works at {employer}",[i.param('employer',this.renderLink(m))]);break;case 'mutual_friend':n=i._("Friends with {user}",[i.param('user',this.renderLink(m))]);break;default:return this.renderLink(m);}return h.createElement('span',null,n);},render:function(){var l=this.props.stats,m=this.props.preferredTypes;for(var n=0;n<m.length;n++)for(var o=0;o<m[n].length;o++){var p=m[n][o];if(p in l)return this.renderItem(p,l[p]);}return h.createElement('span',null);}});f.exports=k;},null);
__d("fillArray",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=new Array(i);for(var l=0;l<i;l++)k[l]=j;return k;}f.exports=h;},null);
__d('CompositeDraftDecorator',['immutable','fillArray'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.List,k='.';function l(o){this.$CompositeDraftDecorator1=o.slice();}l.prototype.getDecorations=function(o){var p=i(o.getText().length,null);this.$CompositeDraftDecorator1.forEach(function(q,r){var s=0,t=q.getStrategy();t(o,function(u,v){if(m(p,u,v)){n(p,u,v,r+k+s);s++;}});});return j(p);};l.prototype.getComponentForKey=function(o){var p=parseInt(o.split(k)[0],10);return this.$CompositeDraftDecorator1[p].getComponent();};l.prototype.getPropsForKey=function(o){var p=parseInt(o.split(k)[0],10);return this.$CompositeDraftDecorator1[p].getProps();};function m(o,p,q){for(var r=p;r<q;r++)if(o[r]!=null)return false;return true;}function n(o,p,q,r){for(var s=p;s<q;s++)o[s]=r;}f.exports=l;},null);
__d('DraftDecorator',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$DraftDecorator1=i;this.$DraftDecorator2=j;this.$DraftDecorator3=k||{};}h.prototype.getStrategy=function(){'use strict';return this.$DraftDecorator1;};h.prototype.getComponent=function(){'use strict';return this.$DraftDecorator2;};h.prototype.getProps=function(){'use strict';return this.$DraftDecorator3;};f.exports=h;},null);
__d('DraftEntityInstance',['immutable'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';var k=h.Record,l=k({type:'TOKEN',mutability:'IMMUTABLE',data:Object});i=babelHelpers.inherits(m,l);j=i&&i.prototype;m.prototype.getType=function(){return this.get('type');};m.prototype.getMutability=function(){return this.get('mutability');};m.prototype.getData=function(){return this.get('data');};function m(){i.apply(this,arguments);}f.exports=m;},null);
__d('DraftEntity',['DraftEntityInstance','immutable','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.Map,l=k(),m=0,n={create:function(o,p,q){return n.add(new h({type:o,mutability:p,data:q||{}}));},add:function(o){var p=''+ ++m;l=l.set(p,o);return p;},get:function(o){var p=l.get(o);!!!p?j(0):undefined;return p;},mergeData:function(o,p){var q=n.get(o),r=babelHelpers._extends({},q.getData(),p),s=q.set('data',r);l=l.set(o,s);return s;}};f.exports=n;},null);
__d('EmoticonSpan.react',['DraftEntity','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.createClass({displayName:'EmoticonSpan',render:function(){var m=h.get(this.props.entityKey),n=m.getData(),o=n.type,p=k("_1ty6",'emoticon_'+o);return (i.createElement('span',{className:p,title:o,'data-offset-key':this.props.offsetKey},i.createElement('span',{className:"_5ukz"},this.props.children)));}});f.exports=l;},null);
__d('HashtagSpan.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'HashtagSpan',render:function(){return (h.createElement('span',babelHelpers._extends({},this.props,{'data-offset-key':this.props.offsetKey,className:"_5u8n",spellCheck:false}),this.props.children));}});f.exports=j;},null);
__d('MentionSpan.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'MentionSpan',render:function(){return (h.createElement('span',babelHelpers._extends({},this.props,{'data-offset-key':this.props.offsetKey,className:"_5u8u",spellCheck:false}),this.props.children));}});f.exports=j;},null);
__d('WeakMentionSpan.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'WeakMentionSpan',render:function(){return (h.createElement('span',{'data-offset-key':this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children));}});f.exports=j;},null);
__d('getEntityMatcher',['DraftEntity'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.get;function j(k,l){var m=l||i;return function(n,o){n.findEntityRanges(function(p){var q=p.getEntity();return typeof q==='string'&&k(m(q));},o);};}f.exports=j;},null);
__d('getHashtagMatches',['getHashtagRegex'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h();function j(k,l){var m=k.getText(),n,o,p,q;while((n=i.exec(m))!==null){o=n.index+n[1].length;p=n[2];q=n[3];l(o,o+p.length+q.length);}}f.exports=j;},null);
__d('getMentionsInputDecorator',['CompositeDraftDecorator','DraftDecorator','EmoticonSpan.react','HashtagSpan.react','MentionSpan.react','WeakMentionSpan.react','getEntityMatcher','getHashtagMatches'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p;function q(){if(!p)p=new h([new i(n(function(r){var s=r.getData();return r.getType()==='MENTION'&&s&&s.isWeak;}),m),new i(n(function(r){return r.getType()==='MENTION';}),l),new i(n(function(r){return r.getType()==='EMOTICON';}),j),new i(o,k)]);return p;}f.exports=q;},null);
__d('findRangesImmutable',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l){if(!i.size)return;var m=0;i.reduce(function(n,o,p){if(!j(n,o)){if(k(n))l(m,p);m=p;}return o;});k(i.last())&&l(m,i.count());}f.exports=h;},null);
__d('BlockTree',['immutable','emptyFunction','findRangesImmutable'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.List,l=h.Repeat,m=h.Record,n=i.thatReturnsTrue,o='-',p={start:null,end:null},q=m(p),r={start:null,end:null,decoratorKey:null,leaves:null},s=m(r),t={generate:function(w,x){var y=w.getLength();if(!y)return k.of(new s({start:0,end:0,decoratorKey:null,leaves:k.of(new q({start:0,end:0}))}));var z=[],aa=x?x.getDecorations(w):k(l(null,y)),ba=w.getCharacterList();j(aa,v,n,function(ca,da){z.push(new s({start:ca,end:da,decoratorKey:aa.get(ca),leaves:u(ba.slice(ca,da).toList(),ca)}));});return k(z);},getFingerprint:function(w){return w.map(function(x){var y=x.get('decoratorKey'),z=y!==null?y+'.'+(x.get('end')-x.get('start')):'';return ''+z+'.'+x.get('leaves').size;}).join(o);}};function u(w,x){var y=[],z=w.map(function(aa){return aa.getStyle();});j(z,v,n,function(aa,ba){y.push(new q({start:aa+x,end:ba+x}));});return k(y);}function v(w,x){return w===x;}f.exports=t;},null);
__d('BlockMapBuilder',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.OrderedMap,j={createFromArray:function(k){return i(k.map(function(l){return [l.getKey(),l];}));}};f.exports=j;},null);
__d('DraftCharacters',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={BLOCK_DELIMITER:'\u000D',SOFT_NEWLINE:'\u000A',PHOTO:'\ud83d\udcf7',VIDEO:'\ud83d\udcf9'};f.exports=h;},null);
__d('ContentState',['BlockMapBuilder','DraftCharacters','immutable','SelectionState'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=i.SOFT_NEWLINE,o=j.Record,p={blockMap:null,selectionBefore:null,selectionAfter:null},q=o(p);l=babelHelpers.inherits(r,q);m=l&&l.prototype;r.prototype.getBlockMap=function(){return this.blockMap;};r.prototype.getSelectionBefore=function(){return this.selectionBefore;};r.prototype.getSelectionAfter=function(){return this.selectionAfter;};r.prototype.getBlockForKey=function(s){var t=this.getBlockMap().get(s);return t;};r.prototype.getKeyBefore=function(s){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){return t===s;}).skip(1).first();};r.prototype.getKeyAfter=function(s){return this.getBlockMap().keySeq().skipUntil(function(t){return t===s;}).skip(1).first();};r.prototype.getBlockAfter=function(s){return this.getBlockMap().skipUntil(function(t,u){return u===s;}).skip(1).first();};r.prototype.getBlockBefore=function(s){return this.getBlockMap().reverse().skipUntil(function(t,u){return u===s;}).skip(1).first();};r.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray();};r.prototype.getLastBlock=function(){return this.getBlockMap().last();};r.prototype.getPlainText=function(s){return this.getBlockMap().map(function(t){return t?t.getText():'';}).join(s||n);};r.prototype.hasText=function(){var s=this.getBlockMap();return (s.size>1||s.first().getLength()>0);};r.createFromBlockArray=function(s){var t=h.createFromArray(s),u=k.createEmpty(t.first().getKey());return new r({blockMap:t,selectionBefore:u,selectionAfter:u});};function r(){l.apply(this,arguments);}f.exports=r;},null);
__d('UnicodeBidiService',['UnicodeBidi','UnicodeBidiDirection','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){if(!l)l=i.getGlobalDir();!i.isStrong(l)?j(0):undefined;this.defaultDir=l;this.reset();}k.prototype.reset=function(){this.lastDir=this.defaultDir;};k.prototype.getDirection=function(l){this.lastDir=h.getDirection(l,this.lastDir);return this.lastDir;};f.exports=k;},null);
__d('EditorBidiService',['immutable','UnicodeBidiService','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.OrderedMap,l,m={getDirectionMap:function(n,o){if(!l){l=new i();}else l.reset();var p=n.getBlockMap(),q=p.valueSeq().map(function(s){return j(l).getDirection(s.getText());}),r=k(p.keySeq().zip(q));return h.is(o,r)?o:r;}};f.exports=m;},null);
__d('CharacterMetadata',['ComposedInlineStyle','immutable'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=h.NONE,m=i.Map,n=i.Record,o={style:l,entity:null},p=n(o);j=babelHelpers.inherits(q,p);k=j&&j.prototype;q.prototype.getStyle=function(){return this.get('style');};q.prototype.getEntity=function(){return this.get('entity');};q.prototype.hasStyle=function(t){return !!(this.getStyle()&t);};q.applyStyle=function(t,u){var v=t.set('style',t.getStyle()|u);return q.create(v.toJS());};q.removeStyle=function(t,u){var v=t.set('style',t.getStyle()&~u);return q.create(v.toJS());};q.applyEntity=function(t,u){var v=t.getEntity()===u?t:t.set('entity',u);return q.create(v.toJS());};q.create=function(t){if(!t)return r;var u=m(babelHelpers._extends({style:l,entity:null},t)),v=s.get(u);if(v)return v;var w=new q(t);s=s.set(u,w);return w;};function q(){j.apply(this,arguments);}var r=new q(),s=m([[m(o),r]]);q.EMPTY=r;f.exports=q;},null);
__d('ContentBlock',['ComposedBlockType','ComposedInlineStyle','immutable','findRangesImmutable'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.UNSTYLED,o=i.NONE,p=j.List,q=j.Record,r={key:'',type:n,text:'',characterList:p(),depth:0},s=q(r);l=babelHelpers.inherits(t,s);m=l&&l.prototype;t.prototype.getKey=function(){return this.get('key');};t.prototype.getType=function(){return this.get('type');};t.prototype.getText=function(){return this.get('text');};t.prototype.getCharacterList=function(){return this.get('characterList');};t.prototype.getLength=function(){return this.getText().length;};t.prototype.getDepth=function(){return this.get('depth');};t.prototype.getInlineStyleAt=function(w){var x=this.getCharacterList().get(w);return x?x.getStyle():o;};t.prototype.getEntityAt=function(w){var x=this.getCharacterList().get(w);return x?x.getEntity():null;};t.prototype.findStyleRanges=function(w,x){k(this.getCharacterList(),u,w,x);};t.prototype.findEntityRanges=function(w,x){k(this.getCharacterList(),v,w,x);};function t(){l.apply(this,arguments);}function u(w,x){return w.getStyle()===x.getStyle();}function v(w,x){return w.getEntity()===x.getEntity();}f.exports=t;},null);
__d("generateBlockKey",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i=Math.pow(2,24);function j(){var k;while(k===undefined||h.hasOwnProperty(k)||!isNaN(+k))k=Math.floor(Math.random()*i).toString(32);h[k]=true;return k;}f.exports=j;},null);
__d('sanitizeDraftText',['DraftCharacters'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.BLOCK_DELIMITER,j=new RegExp(i,'g');function k(l){return l.replace(j,'');}f.exports=k;},null);
__d('createPlainBlocksFromText',['CharacterMetadata','ComposedBlockType','ContentBlock','immutable','generateBlockKey','sanitizeDraftText'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.List,o=k.Repeat,p=h.EMPTY,q=i.UNSTYLED;function r(s){return s.map(function(t){t=m(t);var u=t.length;return new j({key:l(),text:t,type:q,characterList:n(o(p,u))});});}f.exports=r;},null);
__d('EditorState',['BlockTree','ComposedInlineStyle','ContentState','EditorBidiService','immutable','SelectionState','createPlainBlocksFromText'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.Record,p=l.Stack,q={allowUndo:true,currentContent:null,decorator:null,directionMap:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:p(),selection:null,treeMap:null,undoStack:p()},r=o(q);s.createEmpty=function(ba){var ca=n(['']),da=j.createFromBlockArray(ca);return s.createWithContent(da,ba);};s.createWithContent=function(ba,ca){var da=ba.getBlockMap().first().getKey();return s.create({currentContent:ba,undoStack:p(),redoStack:p(),decorator:ca||null,selection:m.createEmpty(da)});};s.create=function(ba){var ca=ba.currentContent,da=ba.decorator,ea=babelHelpers._extends({},ba,{treeMap:u(ca,da),directionMap:k.getDirectionMap(ca)});return new s(new r(ea));};s.set=function(ba,ca){var da=ba.getImmutable().withMutations(function(ea){var fa=ea.get('decorator'),ga=fa;if(ca.decorator===null){ga=null;}else if(ca.decorator)ga=ca.decorator;var ha=ca.currentContent||ba.getCurrentContent();if(ga!==fa){var ia=ea.get('treeMap'),ja;if(ga&&fa){ja=w(ha.getBlockMap(),ia,ga,fa);}else ja=u(ha,ga);ea.merge({decorator:ga,treeMap:ja,nativelyRenderedContent:null});return;}var ka=ba.getCurrentContent();if(ha!==ka)ea.set('treeMap',v(ba,ha.getBlockMap(),ga));ea.merge(ca);});return new s(da);};s.prototype.toJS=function(){return this.getImmutable().toJS();};s.prototype.getAllowUndo=function(){return this.getImmutable().get('allowUndo');};s.prototype.getCurrentContent=function(){return this.getImmutable().get('currentContent');};s.prototype.getUndoStack=function(){return this.getImmutable().get('undoStack');};s.prototype.getRedoStack=function(){return this.getImmutable().get('redoStack');};s.prototype.getSelection=function(){return this.getImmutable().get('selection');};s.prototype.getDecorator=function(){return this.getImmutable().get('decorator');};s.prototype.isInCompositionMode=function(){return this.getImmutable().get('inCompositionMode');};s.prototype.mustForceSelection=function(){return this.getImmutable().get('forceSelection');};s.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get('nativelyRenderedContent');};s.prototype.getLastChangeType=function(){return this.getImmutable().get('lastChangeType');};s.prototype.getInlineStyleOverride=function(){return this.getImmutable().get('inlineStyleOverride');};s.prototype.getCurrentInlineStyle=function(){var ba=this.getInlineStyleOverride();if(ba!=null)return ba;var ca=this.getCurrentContent(),da=this.getSelection();if(da.isCollapsed())return y(ca,da);return z(ca,da);};s.prototype.getBlockTree=function(ba){return this.getImmutable().getIn(['treeMap',ba]);};s.prototype.isSelectionAtStartOfContent=function(){var ba=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(ba,0,0);};s.prototype.isSelectionAtEndOfContent=function(){var ba=this.getCurrentContent(),ca=ba.getBlockMap(),da=ca.last(),ea=da.getLength();return this.getSelection().hasEdgeWithin(da.getKey(),ea,ea);};s.prototype.getDirectionMap=function(){return this.getImmutable().get('directionMap');};s.acceptSelection=function(ba,ca){return t(ba,ca,false);};s.forceSelection=function(ba,ca){if(!ca.getHasFocus())ca=ca.set('hasFocus',true);return t(ba,ca,true);};s.moveSelectionToEnd=function(ba){var ca=ba.getCurrentContent(),da=ca.getLastBlock(),ea=da.getKey(),fa=da.getLength();return s.acceptSelection(ba,new m({anchorKey:ea,anchorOffset:fa,focusKey:ea,focusOffset:fa,isBackward:false}));};s.moveFocusToEnd=function(ba){var ca=s.moveSelectionToEnd(ba);return s.forceSelection(ca,ca.getSelection());};s.push=function(ba,ca,da){if(ba.getCurrentContent()===ca)return ba;var ea=da!=='insert-characters',fa=k.getDirectionMap(ca,ba.getDirectionMap());if(!ba.getAllowUndo())return s.set(ba,{currentContent:ca,directionMap:fa,lastChangeType:da,selection:ca.getSelectionAfter(),forceSelection:ea,inlineStyleOverride:null});var ga=ba.getSelection(),ha=ba.getCurrentContent(),ia=ba.getUndoStack(),ja=ca;if(ga!==ha.getSelectionAfter()||x(ba,da)){ia=ia.push(ha);ja=ja.set('selectionBefore',ga);}else if(da==='insert-characters'||da==='backspace-character'||da==='delete-character')ja=ja.set('selectionBefore',ha.getSelectionBefore());return s.set(ba,{currentContent:ja,directionMap:fa,undoStack:ia,redoStack:p(),lastChangeType:da,selection:ca.getSelectionAfter(),forceSelection:ea,inlineStyleOverride:null});};s.undo=function(ba){if(!ba.getAllowUndo())return ba;var ca=ba.getUndoStack(),da=ca.peek();if(!da)return ba;var ea=ba.getCurrentContent(),fa=k.getDirectionMap(da,ba.getDirectionMap());return s.set(ba,{currentContent:da,directionMap:fa,undoStack:ca.shift(),redoStack:ba.getRedoStack().push(ea),forceSelection:true,inlineStyleOverride:null,lastChangeType:'undo',nativelyRenderedContent:null,selection:ea.getSelectionBefore()});};s.redo=function(ba){if(!ba.getAllowUndo())return ba;var ca=ba.getRedoStack(),da=ca.peek();if(!da)return ba;var ea=ba.getCurrentContent(),fa=k.getDirectionMap(da,ba.getDirectionMap());return s.set(ba,{currentContent:da,directionMap:fa,undoStack:ba.getUndoStack().push(ea),redoStack:ca.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:'redo',nativelyRenderedContent:null,selection:da.getSelectionAfter()});};function s(ba){this.$EditorState1=ba;}s.prototype.getImmutable=function(){return this.$EditorState1;};function t(ba,ca,da){return s.set(ba,{selection:ca,forceSelection:da,nativelyRenderedContent:null,inlineStyleOverride:null});}function u(ba,ca){return ba.getBlockMap().map(function(da){return h.generate(da,ca);});}function v(ba,ca,da){var ea=ba.getCurrentContent().getBlockMap(),fa=ba.getImmutable().get('treeMap');return fa.merge(ca.toSeq().filter(function(ga,ha){return ga!==ea.get(ha);}).map(function(ga){return h.generate(ga,da);}));}function w(ba,ca,da,ea){return ca.merge(ba.toSeq().filter(function(fa){return (da.getDecorations(fa)!==ea.getDecorations(fa));}).map(function(fa){return h.generate(fa,da);}));}function x(ba,ca){var da=ba.getLastChangeType();return (ca!==da||ca!=='insert-characters'&&ca!=='backspace-character'&&ca!=='delete-character');}function y(ba,ca){var da=ca.getStartKey(),ea=ca.getStartOffset(),fa=ba.getBlockForKey(da);if(ea>0)return fa.getInlineStyleAt(ea-1);if(fa.getLength())return fa.getInlineStyleAt(0);return aa(ba,da);}function z(ba,ca){var da=ca.getStartKey(),ea=ca.getStartOffset(),fa=ba.getBlockForKey(da);if(ea<fa.getLength())return fa.getInlineStyleAt(ea);if(ea>0)return fa.getInlineStyleAt(ea-1);return aa(ba,da);}function aa(ba,ca){var da=ba.getBlockBefore(ca),ea;while(da){ea=da.getLength();if(ea)return da.getInlineStyleAt(ea-1);da=ba.getBlockBefore(da.getKey());}return i.NONE;}f.exports=s;},null);
__d('AbstractTextEditorPlaceholder.react',['EditorState','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'AbstractTextEditorPlaceholder',propTypes:{editorState:k.instanceOf(h).isRequired,text:k.string.isRequired},shouldComponentUpdate:function(m){if(this.props.text!==m.text)return true;var n=this.props.editorState,o=m.editorState,p=n.getSelection(),q=o.getSelection();return (p.getHasFocus()!==q.getHasFocus());},render:function(){var m=this.props.editorState.getSelection().getHasFocus(),n="_5ywb"+(m?' '+"_5ywc":'');return (i.createElement('div',{className:n},i.createElement('div',{className:"_3br6"},this.props.text)));}});f.exports=l;},null);
__d('KeyBindingUtil',['UserAgent'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.isPlatform('Mac OS X'),j={isCtrlKeyCommand:function(k){return !!k.ctrlKey&&!k.altKey;},hasCommandModifier:function(k){return i?!!k.metaKey&&!k.altKey:j.isCtrlKeyCommand(k);}};f.exports=j;},null);
__d('getDefaultKeyBinding',['KeyBindingUtil','Keys','UserAgent'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.isPlatform('Mac OS X'),l=j.isPlatform('Windows'),m=k&&j.isBrowser('Firefox < 29'),n=h.hasCommandModifier,o=h.isCtrlKeyCommand;function p(u){return k&&u.altKey||o(u);}function q(u){if(n(u))return u.shiftKey?'redo':'undo';}function r(u){if(l&&u.shiftKey)return null;return p(u)?'delete-word':'delete';}function s(u){if(n(u)&&k)return 'backspace-to-start-of-line';return p(u)?'backspace-word':'backspace';}function t(u){switch(u.keyCode){case 66:return n(u)?'bold':null;case 68:return o(u)?'delete':null;case 72:return o(u)?'backspace':null;case 73:return n(u)?'italic':null;case 74:return n(u)?'code':null;case 75:return !l&&o(u)?'secondary-cut':null;case 79:return o(u)?'insert-block-delimiter':null;case 84:return k&&o(u)?'transpose-characters':null;case 85:return n(u)?'underline':null;case 87:return k&&o(u)?'backspace-word':null;case 89:if(o(u))return l?'redo':'secondary-paste';return null;case 90:return q(u)||null;case i.DELETE:return r(u);case i.BACKSPACE:return s(u);case i.LEFT:return (m&&n(u)?'move-selection-to-start-of-block':null);case i.RIGHT:return (m&&n(u)?'move-selection-to-end-of-block':null);default:return null;}}f.exports=t;},null);
__d('AbstractTextEditorProps',['EditorState','React','emptyFunction','getDefaultKeyBinding'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=j.thatReturns(''),n=j.thatReturns(null),o={propTypes:{editorState:l.instanceOf(h).isRequired,placeholder:l.string,textAlignment:l.oneOf(['left','center','right']),blockRendererFn:l.func,blockStyleFn:l.func,inlineStyleFn:l.func,keyBindingFn:l.func,readOnly:l.bool,spellCheck:l.bool,stripPastedStyles:l.bool,handleReturn:l.func,handleKeyCommand:l.func,handleBeforeInput:l.func,handlePastedFiles:l.func,onEscape:l.func,onTab:l.func,onUpArrow:l.func,onDownArrow:l.func,onPasteRawText:l.func,onBlur:l.func,onFocus:l.func},getDefaultProps:function(){return {blockRendererFn:n,blockStyleFn:m,inlineStyleFn:m,keyBindingFn:k,readOnly:false,spellCheck:false,stripPastedStyles:false};}};f.exports=o;},null);
__d('ContentStateInlineStyle',['CharacterMetadata','immutable'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={add:function(l,m,n){return k(l,m,n,true);},remove:function(l,m,n){return k(l,m,n,false);}};function k(l,m,n,o){var p=l.getBlockMap(),q=m.getStartKey(),r=m.getStartOffset(),s=m.getEndKey(),t=m.getEndOffset(),u=p.skipUntil(function(v,w){return w===q;}).takeUntil(function(v,w){return w===s;}).concat(i.Map([[s,p.get(s)]])).map(function(v,w){var x,y;if(q===s){x=r;y=t;}else{x=w===q?r:0;y=w===s?t:v.getLength();}var z=v.getCharacterList(),aa;while(x<y){aa=z.get(x);z=z.set(x,o?h.applyStyle(aa,n):h.removeStyle(aa,n));x++;}return v.set('characterList',z);});return l.merge({blockMap:p.merge(u),selectionBefore:m,selectionAfter:m});}f.exports=j;},null);
__d('applyEntityToContentBlock',['CharacterMetadata'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){var n=j.getCharacterList();while(k<l){n=n.set(k,h.applyEntity(n.get(k),m));k++;}return j.set('characterList',n);}f.exports=i;},null);
__d('applyEntityToContentState',['immutable','applyEntityToContentBlock'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m){var n=k.getBlockMap(),o=l.getStartKey(),p=l.getStartOffset(),q=l.getEndKey(),r=l.getEndOffset(),s=n.skipUntil(function(t,u){return u===o;}).takeUntil(function(t,u){return u===q;}).merge(h.OrderedMap([[q,n.get(q)]])).map(function(t,u){var v,w;if(o===q){v=p;w=r;}else{v=u===o?p:0;w=u===q?0:t.getLength();}return i(t,v,w,m);});return k.merge({blockMap:n.merge(s),selectionBefore:l,selectionAfter:l});}f.exports=j;},null);
__d('DraftEntitySegments',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getRemovalRange:function(i,j,k,l,m){var n=k.split(' ');n=n.map(function(x,y){if(m==='forward'){if(y>0)return ' '+x;}else if(y<n.length-1)return x+' ';return x;});var o=l,p,q,r=null,s=null;for(var t=0;t<n.length;t++){q=n[t];p=o+q.length;if(i<p&&o<j){if(r!==null){s=p;}else{r=o;s=p;}}else if(r!==null)break;o=p;}var u=l+k.length,v=r===l,w=s===u;if(!v&&w||v&&!w)if(m==='forward'){if(s!==u)s++;}else if(r!==l)r--;return {start:r,end:s};}};f.exports=h;},null);
__d('checkRangeOverlap',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){!(j<=k&&l<=m)?h(0):undefined;return j<m&&k>l;}f.exports=i;},null);
__d('getRangesForDraftEntity',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=[];j.findEntityRanges(function(m){return m.getEntity()===k;},function(m,n){l.push({start:m,end:n});});!!!l.length?h(0):undefined;return l;}f.exports=i;},null);
__d('getCharacterRemovalRange',['DraftEntity','DraftEntitySegments','checkRangeOverlap','getRangesForDraftEntity','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(n,o,p){var q=o.getStartOffset(),r=o.getEndOffset(),s=n.getEntityAt(q);if(!s)return o;var t=h.get(s),u=t.getMutability();if(u==='MUTABLE')return o;var v=k(n,s).filter(function(y){return j(q,r,y.start,y.end);});!(v.length==1)?l(0):undefined;var w=v[0];if(u==='IMMUTABLE')return o.merge({anchorOffset:w.start,focusOffset:w.end,isBackward:false});var x=i.getRemovalRange(q,r,n.getText().slice(w.start,w.end),w.start,p);return o.merge({anchorOffset:x.start,focusOffset:x.end,isBackward:false});}f.exports=m;},null);
__d('removeEntitiesAtEdges',['CharacterMetadata','DraftEntity','findRangesImmutable','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(o,p){var q=o.getBlockMap(),r={},s=p.getStartKey(),t=p.getStartOffset(),u=q.get(s),v=n(u,t);if(v!==u)r[s]=v;var w=p.getEndKey(),x=p.getEndOffset(),y=q.get(w);if(s===w)y=v;var z=n(y,x);if(z!==y)r[w]=z;if(!Object.keys(r).length)return o.set('selectionAfter',p);return o.merge({blockMap:q.merge(r),selectionAfter:p});}function m(o,p,q){var r;j(o,function(s,t){return s.getEntity()===t.getEntity();},function(s){return s.getEntity()===p;},function(s,t){if(s<=q&&t>=q)r={start:s,end:t};});!(typeof r==='object')?k(0):undefined;return r;}function n(o,p){var q=o.getCharacterList(),r=p>0?q.get(p-1):undefined,s=p<q.count()?q.get(p):undefined,t=r?r.getEntity():undefined,u=s?s.getEntity():undefined;if(u&&u===t){var v=i.get(u);if(v.getMutability()!=='MUTABLE'){var w=m(q,u,p),x=w.start,y=w.end,z;while(x<y){z=q.get(x);q=q.set(x,h.applyEntity(z,null));x++;}return o.set('characterList',q);}}return o;}f.exports=l;},null);
__d('getContentStateFragment',['generateBlockKey','removeEntitiesAtEdges'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){var m=l.getStartKey(),n=l.getStartOffset(),o=l.getEndKey(),p=l.getEndOffset(),q=i(k,l),r=q.getBlockMap(),s=r.keySeq(),t=s.indexOf(m),u=s.indexOf(o)+1;return r.slice(t,u).map(function(v,w){var x=h(),y=v.getText(),z=v.getCharacterList();if(m===o)return v.merge({key:x,text:y.slice(n,p),characterList:z.slice(n,p)});if(w===m)return v.merge({key:x,text:y.slice(n),characterList:z.slice(n)});if(w===o)return v.merge({key:x,text:y.slice(0,p),characterList:z.slice(0,p)});return v.set('key',x);});}f.exports=j;},null);
__d('insertIntoList',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k){if(k===i.count()){j.forEach(function(l){i=i.push(l);});}else if(k===0){j.reverse().forEach(function(l){i=i.unshift(l);});}else i=i.slice(0,k).concat(j,i.slice(k));return i;}f.exports=h;},null);
__d('insertFragmentIntoContentState',['BlockMapBuilder','generateBlockKey','insertIntoList','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m,n,o){!n.isCollapsed()?k(0):undefined;var p=n.getStartKey(),q=n.getStartOffset(),r=m.getBlockMap(),s=o.size,t,u;if(s===1){var v=r.get(p),w=o.first(),x=v.getText(),y=v.getCharacterList(),z=v.merge({text:x.slice(0,q)+w.getText()+x.slice(q),characterList:j(y,w.getCharacterList(),q)});r=r.set(p,z);t=p;u=q+w.getText().length;return m.merge({blockMap:r.set(p,z),selectionBefore:n,selectionAfter:n.merge({anchorKey:t,anchorOffset:u,focusKey:t,focusOffset:u,isBackward:false})});}var aa=[];m.getBlockMap().forEach(function(ba,ca){if(ca!==p){aa.push(ba);return;}var da=ba.getText(),ea=ba.getCharacterList(),fa=da.length,ga=da.slice(0,q),ha=ea.slice(0,q),ia=o.first(),ja=ba.merge({text:ga+ia.getText(),characterList:ha.concat(ia.getCharacterList())});aa.push(ja);o.slice(1,s-1).forEach(function(oa){aa.push(oa.set('key',i()));});var ka=da.slice(q,fa),la=ea.slice(q,fa),ma=o.last();t=i();var na=ma.merge({key:t,text:ma.getText()+ka,characterList:ma.getCharacterList().concat(la)});aa.push(na);});u=o.last().getLength();return m.merge({blockMap:h.createFromArray(aa),selectionBefore:n,selectionAfter:n.merge({anchorKey:t,anchorOffset:u,focusKey:t,focusOffset:u,isBackward:false})});}f.exports=l;},null);
__d('insertTextIntoContentState',['immutable','insertIntoList','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.Repeat;function l(m,n,o,p){!n.isCollapsed()?j(0):undefined;var q=o.length;if(!q)return m;var r=m.getBlockMap(),s=n.getStartKey(),t=n.getStartOffset(),u=r.get(s),v=u.getText(),w=u.merge({text:v.slice(0,t)+o+v.slice(t,u.getLength()),characterList:i(u.getCharacterList(),k(p,q),t)}),x=t+q;return m.merge({blockMap:r.set(s,w),selectionAfter:n.merge({anchorOffset:x,focusOffset:x})});}f.exports=l;},null);
__d('removeRangeFromContentState',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(k,l){if(l.isCollapsed())return k;var m=k.getBlockMap(),n=l.getStartKey(),o=l.getStartOffset(),p=l.getEndKey(),q=l.getEndOffset(),r=m.get(n),s=m.get(p),t;if(r===s){t=j(r.getCharacterList(),o,q);}else t=r.getCharacterList().slice(0,o).concat(s.getCharacterList().slice(q));var u=r.merge({text:r.getText().slice(0,o)+s.getText().slice(q),characterList:t}),v=m.toSeq().skipUntil(function(w,x){return x===n;}).takeUntil(function(w,x){return x===p;}).concat(h.Map([[p,null]])).map(function(w,x){return x===n?u:null;});m=m.merge(v).filter(function(w){return !!w;});return k.merge({blockMap:m,selectionBefore:l,selectionAfter:l.merge({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:false})});}function j(k,l,m){if(l===0){while(l<m){k=k.shift();l++;}}else if(m===k.count()){while(m>l){k=k.pop();m--;}}else k=k.slice(0,l).concat(k.slice(m));return k;}f.exports=i;},null);
__d('setBlockTypeForContentState',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=k.getStartKey(),n=k.getEndKey(),o=j.getBlockMap(),p=o.toSeq().skipUntil(function(q,r){return r===m;}).takeUntil(function(q,r){return r===n;}).concat(h.Map([[n,o.get(n)]])).map(function(q){return q.merge({type:l,depth:0});});return j.merge({blockMap:o.merge(p),selectionBefore:k,selectionAfter:k});}f.exports=i;},null);
__d('splitBlockInContentState',['generateBlockKey','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){!l.isCollapsed()?i(0):undefined;var m=l.getAnchorKey(),n=l.getAnchorOffset(),o=k.getBlockMap(),p=o.get(m),q=p.getText(),r=p.getCharacterList(),s=p.merge({text:q.slice(0,n),characterList:r.slice(0,n)}),t=h(),u=s.merge({key:t,text:q.slice(n),characterList:r.slice(n)}),v=o.toSeq().takeUntil(function(y){return y===p;}),w=o.toSeq().skipUntil(function(y){return y===p;}).rest(),x=v.concat([[s.getKey(),s],[u.getKey(),u]],w).toOrderedMap();return k.merge({blockMap:x,selectionBefore:l,selectionAfter:l.merge({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:false})});}f.exports=j;},null);
__d('DraftModifier',['CharacterMetadata','ComposedInlineStyle','ContentStateInlineStyle','applyEntityToContentState','getCharacterRemovalRange','getContentStateFragment','insertFragmentIntoContentState','insertTextIntoContentState','invariant','removeEntitiesAtEdges','removeRangeFromContentState','setBlockTypeForContentState','splitBlockInContentState'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=i.NONE,v={replaceText:function(w,x,y,z,aa){if(z===undefined)z=u;if(aa===undefined)aa=null;var ba=q(w,x),ca=r(ba,x),da=h.create({style:z,entity:aa});return o(ca,ca.getSelectionAfter(),y,da);},insertText:function(w,x,y,z,aa){!x.isCollapsed()?p(0):undefined;return v.replaceText(w,x,y,z,aa);},moveText:function(w,x,y){var z=m(w,x),aa=v.removeRange(w,x,'backward');return v.replaceWithFragment(aa,y,z);},replaceWithFragment:function(w,x,y){var z=q(w,x),aa=r(z,x);return n(aa,aa.getSelectionAfter(),y);},removeRange:function(w,x,y){if(x.getAnchorKey()===x.getFocusKey()){var z=x.getAnchorKey(),aa=x.getStartOffset(),ba=x.getEndOffset(),ca=w.getBlockForKey(z),da=ca.getEntityAt(aa),ea=ca.getEntityAt(ba-1);if(da&&da===ea){var fa=l(ca,x,y);return r(w,fa);}}var ga=q(w,x);return r(ga,x);},splitBlock:function(w,x){var y=q(w,x),z=r(y,x);return t(z,z.getSelectionAfter());},applyInlineStyle:function(w,x,y){return j.add(w,x,y);},removeInlineStyle:function(w,x,y){return j.remove(w,x,y);},setBlockType:function(w,x,y){return s(w,x,y);},applyEntity:function(w,x,y){var z=q(w,x);return k(z,x,y);}};f.exports=v;},null);
__d('isSelectionAtLeafStart',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=i.getSelection(),k=j.getAnchorKey(),l=i.getBlockTree(k),m=j.getStartOffset(),n=false;l.some(function(o){if(m===o.get('start')){n=true;return true;}if(m<o.get('end'))return o.get('leaves').some(function(p){var q=p.get('start');if(m===q){n=true;return true;}if(m<q)return false;});});return n;}f.exports=h;},null);
__d('TextEditorCompositionHandler',['ComposedInlineStyle','DraftModifier','EditorState','Keys','isSelectionAtLeafStart'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=h.NONE,n=20,o={_stillComposing:false,_textInputData:'',onBeforeInput:function(p){this._textInputData=(this._textInputData||'')+p.data;},onCompositionStart:function(){this._stillComposing=true;},onCompositionEnd:function(){this._resolved=false;this._stillComposing=false;setTimeout((function(){if(!this._resolved)o.resolveComposition.call(this);}).bind(this),n);},onKeyDown:function(p){if(p.which===k.RIGHT||p.which===k.LEFT)p.preventDefault();},onKeyPress:function(p){if(p.which===k.RETURN)p.preventDefault();},resolveComposition:function(){if(this._stillComposing)return;this._resolved=true;var p=this._textInputData;this._textInputData='';var q=j.set(this.props.editorState,{inCompositionMode:false}),r=!p||l(q);if(r)this.restoreEditorDOM();this.exitCurrentMode();this.removeRenderGuard();if(p){var s=i.replaceText(q.getCurrentContent(),q.getSelection(),p,m,null);this.update(j.push(q,s,'insert-characters'));return;}if(r)this.update(j.set(q,{nativelyRenderedContent:null,forceSelection:true}));}};f.exports=o;},null);
__d('DraftOffsetKey',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='-',i={encode:function(j,k,l){return j+h+k+h+l;},decode:function(j){var k=j.split(h),l=k[0],m=k[1],n=k[2];return {blockKey:l,decoratorKey:parseInt(m,10),leafKey:parseInt(n,10)};}};f.exports=i;},null);
__d('ElementForBlockType',['ComposedBlockType','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.createElement('ul',{className:"_5a_q"+(' '+"_5yj1")}),l=i.createElement('ol',{className:"_5a_q"+(' '+"_509r")}),m=i.createElement('pre',{className:"_19ik"}),n={getElement:function(o){switch(o){case h.HEADER_ONE:return 'h2';case h.HEADER_TWO:return 'h3';case h.UNORDERED_LIST_ITEM:case h.ORDERED_LIST_ITEM:return 'li';case h.BLOCKQUOTE:return 'blockquote';case h.MEDIA:return 'figure';default:return 'div';}},getWrapperTemplate:function(o){switch(o){case h.UNORDERED_LIST_ITEM:return k;case h.ORDERED_LIST_ITEM:return l;case h.CODE:return m;default:return null;}}};f.exports=n;},null);
__d('TextEditorTextNode.react',['React','ReactDOM','UserAgent'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.isBrowser('IE <= 11');function l(p){return k?p.textContent==='\n':p.tagName==='BR';}var m=k?h.createElement('span',{key:'A'},'\n'):h.createElement('br',{key:'A'}),n=k?h.createElement('span',{key:'B'},'\n'):h.createElement('br',{key:'B'}),o=h.createClass({displayName:'TextEditorTextNode',forceFlag:false,shouldComponentUpdate:function(p){var q=i.findDOMNode(this),r=p.children==='';if(r)return !l(q);return q.textContent!==p.children;},componentWillUpdate:function(){this.forceFlag=!this.forceFlag;},render:function(){if(this.props.children==='')return this.forceFlag?m:n;return h.createElement('span',{key:this.forceFlag?'A':'B'},this.props.children);}});f.exports=o;},null);
__d('setDraftEditorSelection',['containsNode','getActiveElement'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(m,n,o,p,q){if(!h(document.documentElement,n))return;var r=b.getSelection(),s=m.getAnchorKey(),t=m.getAnchorOffset(),u=m.getFocusKey(),v=m.getFocusOffset(),w=m.getIsBackward();if(!r.extend&&w){var x=s,y=t;s=u;t=v;u=x;v=y;w=false;}var z=s===o&&p<=t&&q>=t,aa=u===o&&p<=v&&q>=v;if(z&&aa){r.removeAllRanges();l(r,n,t-p);k(r,n,v-p);return;}if(!w){if(z){r.removeAllRanges();l(r,n,t-p);}if(aa)k(r,n,v-p);}else{if(aa){r.removeAllRanges();l(r,n,v-p);}if(z){var ba=r.focusNode,ca=r.focusOffset;r.removeAllRanges();l(r,n,t-p);k(r,ba,ca);}}}function k(m,n,o){if(m.extend&&h(i(),n)){m.extend(n,o);}else{var p=m.getRangeAt(0);p.setEnd(n,o);m.addRange(p.cloneRange());}}function l(m,n,o){var p=document.createRange();p.setStart(n,o);m.addRange(p);}f.exports=j;},null);
__d('TextEditorLeaf.react',['DraftCharacters','React','ReactDOM','SelectionState','TextEditorTextNode.react','setDraftEditorSelection'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=h.SOFT_NEWLINE,p=3,q=i.createClass({displayName:'TextEditorLeaf',propTypes:{selection:n.instanceOf(k),start:n.number.isRequired,blockKey:n.string.isRequired,text:n.string.isRequired,style:n.number,inlineStyleFn:n.func.isRequired,isLast:n.bool.isRequired},_setSelection:function(){var r=this.props.selection;if(r==null||!r.getHasFocus())return;var s=this.props.start,t=s+this.props.text.length,u=this.props.blockKey;if(!r.hasEdgeWithin(u,s,t))return;var v=j.findDOMNode(this),w=v.firstChild,x;if(w.nodeType===p){x=w;}else if(w.tagName==='BR'){x=v;}else x=w.firstChild;m(r,x,u,s,t);},shouldComponentUpdate:function(r){return (j.findDOMNode(this.refs.leaf).textContent!==r.text||r.forceSelection);},componentDidUpdate:function(){this._setSelection();},componentDidMount:function(){this._setSelection();},render:function(){var r=this.props.text;if(r.endsWith(o)&&this.props.isLast)r+=o;var s;if(this.props.style)s=this.props.inlineStyleFn(this.props.style);return (i.createElement('span',{'data-offset-key':this.props.offsetKey,className:s,ref:'leaf'},i.createElement(l,null,r)));}});f.exports=q;},null);
__d('TextEditorBlock.react',['ContentBlock','DraftOffsetKey','ElementForBlockType','React','ReactDOM','Scroll','SelectionState','Style','TextEditorLeaf.react','UnicodeBidi','UnicodeBidiDirection','cx','getElementPosition','getScrollPosition','getViewportDimensions','joinClasses','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=k.PropTypes,z=r.LTR,aa=r.RTL,ba=10,ca=k.createClass({displayName:'TextEditorBlock',propTypes:{block:y.instanceOf(h).isRequired,tree:y.object.isRequired,selection:y.instanceOf(n).isRequired,decorator:y.object,forceSelection:y.bool.isRequired,direction:y.string.isRequired,blockProps:y.object,startIndent:y.bool,blockStyleFn:y.func.isRequired,inlineStyleFn:y.func.isRequired},shouldComponentUpdate:function(ea){return (this.props.block!==ea.block||this.props.tree!==ea.tree||this.props.direction!==ea.direction||da(ea.selection,ea.block.getKey())&&ea.forceSelection);},componentDidMount:function(){var ea=this.props.selection,fa=ea.getEndKey();if(!ea.getHasFocus()||fa!==this.props.block.getKey())return;var ga=l.findDOMNode(this),ha=o.getScrollParent(ga),ia=u(ha),ja;if(ha===window){var ka=t(ga),la=ka.y+ka.height,ma=v().height;ja=la-ma;if(ja>0)window.scrollTo(ia.x,ia.y+ja+ba);}else{var na=ga.offsetHeight+ga.offsetTop,oa=ha.offsetHeight+ia.y;ja=na-oa;if(ja>0)m.setTop(ha,m.getTop(ha)+ja+ba);}},_renderChildren:function(){var ea=this.props.block,fa=ea.getKey(),ga=ea.getText(),ha=this.props.tree.size-1,ia=da(this.props.selection,fa);return this.props.tree.map((function(ja,ka){var la=ja.get('leaves'),ma=la.size-1,na=la.map((function(wa,xa){var ya=i.encode(fa,ka,xa),za=wa.get('start'),ab=wa.get('end');return (k.createElement(p,{key:ya,offsetKey:ya,blockKey:fa,start:za,selection:ia?this.props.selection:undefined,forceSelection:this.props.forceSelection,text:ga.slice(za,ab),style:ea.getInlineStyleAt(za),inlineStyleFn:this.props.inlineStyleFn,isLast:ka===ha&&xa===ma}));}).bind(this)).toArray(),oa=ja.get('decoratorKey');if(oa==null)return na;if(!this.props.decorator)return na;var pa=x(this.props.decorator),qa=pa.getComponentForKey(oa);if(!qa)return na;var ra=pa.getPropsForKey(oa),sa=i.encode(fa,ka,0),ta=ga.slice(la.first().get('start'),la.last().get('end')),ua=q.getDirection(ta),va=ua!==this.props.direction?ua.toLowerCase():null;return (k.createElement(qa,babelHelpers._extends({},ra,{dir:va,key:sa,entityKey:ea.getEntityAt(ja.get('start')),offsetKey:sa}),na));}).bind(this)).toArray();},render:function(){var ea=this.props.block,fa=ea.getKey(),ga=ea.getDepth(),ha=j.getElement(ea.getType()),ia=w(this.props.blockStyleFn(ea.getType()),"_209g"+(this.props.direction===z?' '+"_2vxa":'')+(this.props.direction===aa?' '+"_2vxb":''));if(ha==='li'){var ja=this.props.startIndent;ia=w(ia,(ja&&ga===0?"_2yj9":'')+(ja&&ga===1?' '+"_2yja":'')+(ja&&ga===2?' '+"_2yjb":'')+(ja&&ga===3?' '+"_2yje":'')+(ja&&ga===4?' '+"_2yjf":'')+(ga===0?' '+"_2yjg":'')+(ga===1?' '+"_2yjh":'')+(ga===2?' '+"_2yji":'')+(ga===3?' '+"_2yjj":'')+(ga===4?' '+"_2yjn":''));}var ka=babelHelpers._extends({'data-block':true,'data-offset-key':i.encode(fa,0,0),className:ia},this.props.blockProps);return k.createElement(ha,babelHelpers._extends({},ka),this._renderChildren());}});function da(ea,fa){return (ea.getAnchorKey()===fa||ea.getFocusKey()===fa);}f.exports=ca;},null);
__d('TextEditorContents.react',['DraftOffsetKey','EditorState','ElementForBlockType','React','TextEditorBlock.react','cx','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'TextEditorContents',propTypes:{blockRendererFn:o.func.isRequired,blockStyleFn:o.func.isRequired,editorState:o.instanceOf(i).isRequired,inlineStyleFn:o.func.isRequired},shouldComponentUpdate:function(r){var s=this.props.editorState,t=r.editorState,u=s.getDirectionMap(),v=t.getDirectionMap();if(u!==v)return true;var w=s.getSelection().getHasFocus(),x=t.getSelection().getHasFocus();if(w!==x)return true;var y=t.getNativelyRenderedContent(),z=s.isInCompositionMode(),aa=t.isInCompositionMode();if(s===t||y!==null&&t.getCurrentContent()===y||z&&aa)return false;var ba=s.getCurrentContent(),ca=t.getCurrentContent(),da=s.getDecorator(),ea=t.getDecorator();return (z!==aa||ba!==ca||da!==ea||t.mustForceSelection());},render:function(){var r=this.props.editorState,s=r.getCurrentContent(),t=r.getSelection(),u=r.mustForceSelection(),v=n(r.getDirectionMap()),w=s.getBlocksAsArray(),x=[],y=null,z=null,aa=null,ba,ca,da,ea,fa,ga,ha;for(var ia=0;ia<w.length;ia++){da=w[ia];ea=da.getKey();fa=da.getType();var ja=this.props.blockRendererFn(da)||q,ka=ja.component,la=ja.props;ba=ka;ga=k.createElement(ba,{key:ea,tree:r.getBlockTree(ea),decorator:r.getDecorator(),block:da,selection:t,forceSelection:u,direction:v.get(ea),blockProps:la,startIndent:aa===null||da.getDepth()>aa,blockStyleFn:this.props.blockStyleFn,inlineStyleFn:this.props.inlineStyleFn});ha=j.getWrapperTemplate(fa);if(ha){if(z!==ha){ca=[];y=k.cloneElement(ha,{key:ea+'-wrap','data-offset-key':h.encode(ea,0,0)},ca);z=ha;x.push(y);}aa=da.getDepth();n(ca).push(ga);}else{ca=null;y=null;z=null;aa=null;x.push(ga);}}return k.createElement('div',{'data-contents':'true'},x);}}),q={component:l,props:null};f.exports=p;},null);
__d('getEntityKeyForSelection',['DraftEntity'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k,l){var m;if(l.isCollapsed()){var n=l.getAnchorKey(),o=l.getAnchorOffset();if(o>0){m=k.getBlockForKey(n).getEntityAt(o-1);return j(m);}return null;}var p=l.getStartKey(),q=l.getStartOffset(),r=k.getBlockForKey(p);m=q===r.getLength()?null:r.getEntityAt(q);return j(m);}function j(k){if(k){var l=h.get(k);return l.getMutability()==='MUTABLE'?k:null;}return null;}f.exports=i;},null);
__d('editOnBeforeInput',['BlockTree','DraftModifier','EditorState','UserAgent','getEntityKeyForSelection','isSelectionAtLeafStart','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o='\'',p='\/',q=k.isBrowser('Firefox');function r(u){return (q&&(u==o||u==p));}function s(u,v,w,x){var y=i.replaceText(u.getCurrentContent(),u.getSelection(),v,w,x||null);return j.push(u,y,'insert-characters');}function t(u){var v=u.data;if(!v)return;if(this.props.handleBeforeInput&&this.props.handleBeforeInput(v)){u.preventDefault();return;}var w=this.props.editorState,x=w.getSelection();if(!x.isCollapsed()){u.preventDefault();this.update(s(w,v,w.getCurrentInlineStyle(),l(w.getCurrentContent(),w.getSelection())));return;}var y=!m(w),z=s(w,v,w.getCurrentInlineStyle(),l(w.getCurrentContent(),w.getSelection()));if(!y){u.preventDefault();this.update(z);return;}var aa=x.getAnchorKey(),ba=w.getBlockTree(aa),ca=h.getFingerprint(ba),da=h.getFingerprint(z.getBlockTree(aa));if(r(v)||ca!==da||n(z.getDirectionMap()).get(aa)!==n(w.getDirectionMap()).get(aa)){u.preventDefault();}else z=j.set(z,{nativelyRenderedContent:z.getCurrentContent()});this.update(z);}f.exports=t;},null);
__d('editOnBlur',['EditorState','UserAgent','getActiveElement'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.isEngine('WebKit');function l(m){if(k&&j()===document.body)b.getSelection().removeAllRanges();var n=this.props.editorState,o=n.getSelection();if(!o.getHasFocus())return;var p=o.set('hasFocus',false);this.props.onBlur&&this.props.onBlur(m);this.update(h.acceptSelection(n,p));}f.exports=l;},null);
__d('editOnCompositionStart',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(){this.setRenderGuard();this.setMode('composite');this.update(h.set(this.props.editorState,{inCompositionMode:true}));}f.exports=i;},null);
__d('getFragmentFromSelection',['getContentStateFragment'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getSelection();if(!k.isCollapsed())return h(j.getCurrentContent(),k);}f.exports=i;},null);
__d('editOnCopy',['getFragmentFromSelection'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=this.props.editorState,l=k.getSelection();if(l.isCollapsed()){j.preventDefault();return;}this._clipboard=h(this.props.editorState);}f.exports=i;},null);
__d('editOnCut',['DraftModifier','EditorState','getFragmentFromSelection'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(m){var n=this.props.editorState,o=n.getSelection();if(o.isCollapsed()){m.preventDefault();return;}var p=j(n);this._clipboard=p;this.setRenderGuard();this.setMode('cut');setTimeout((function(){this.restoreEditorDOM();this.removeRenderGuard();this.exitCurrentMode();this.update(l(n));}).bind(this),0);}function l(m){var n=h.removeRange(m.getCurrentContent(),m.getSelection(),'forward');return i.push(m,n,'remove-range');}f.exports=k;},null);
__d('editOnDragOver',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this._internalDrag=false;this.setMode('drag');i.preventDefault();}f.exports=h;},null);
__d('editOnDragStart',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this._internalDrag=true;this.setMode('drag');}f.exports=h;},null);
__d('editOnFocus',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=this.props.editorState,l=k.getSelection();if(l.getHasFocus())return;var m=l.set('hasFocus',true);this.props.onFocus&&this.props.onFocus(j);this.update(h.forceSelection(k,m));}f.exports=i;},null);
__d('getSelectionOffsetKeyForNode',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return i instanceof Element?i.getAttribute('data-offset-key'):null;}f.exports=h;},null);
__d('findAncestorOffsetKey',['getSelectionOffsetKeyForNode'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){while(j&&j!==document.documentElement){var k=h(j);if(k!=null)return k;j=j.parentNode;}return null;}f.exports=i;},null);
__d('editOnInput',['DraftCharacters','DraftModifier','DraftOffsetKey','EditorState','UserAgent','findAncestorOffsetKey','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.isEngine('Gecko'),p=h.SOFT_NEWLINE,q=p+p;function r(){var s=b.getSelection(),t=s.anchorNode,u=s.isCollapsed;if(t.nodeType!==Node.TEXT_NODE)return;var v=t.textContent,w=this.props.editorState,x=n(m(t)),y=j.decode(x),z=y.blockKey,aa=y.decoratorKey,ba=y.leafKey,ca=w.getBlockTree(z).getIn([aa,'leaves',ba]),da=ca.start,ea=ca.end,fa=w.getCurrentContent(),ga=fa.getBlockForKey(z),ha=ga.getText().slice(da,ea);if(v.endsWith(q))v=v.slice(0,-1);if(v===ha)return;var ia=w.getSelection(),ja=ia.merge({anchorOffset:da,focusOffset:ea,isBackward:false}),ka=i.replaceText(fa,ja,v,ga.getInlineStyleAt(da)),la,ma,na,oa;if(o){la=s.anchorOffset;ma=s.focusOffset;na=da+Math.min(la,ma);oa=na+Math.abs(la-ma);la=na;ma=oa;}else{var pa=v.length-ha.length;na=ia.getStartOffset();oa=ia.getEndOffset();la=u?oa+pa:na;ma=oa+pa;}var qa=ka.merge({selectionBefore:fa.getSelectionAfter(),selectionAfter:ia.merge({anchorOffset:la,focusOffset:ma})});this.update(k.push(w,qa,'spellcheck-change'));}f.exports=r;},null);
__d('SecondaryClipboard',['DraftModifier','EditorState','getContentStateFragment','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=null,m={cut:function(n){var o=n.getCurrentContent(),p=n.getSelection(),q=null;if(p.isCollapsed()){var r=p.getAnchorKey(),s=o.getBlockForKey(r).getLength();if(s===p.getAnchorOffset())return n;q=p.set('focusOffset',s);}else q=p;q=k(q);l=j(o,q);var t=h.removeRange(o,q,'forward');if(t===o)return n;return i.push(n,t,'remove-range');},paste:function(n){if(!l)return n;var o=h.replaceWithFragment(n.getCurrentContent(),n.getSelection(),l);return i.push(n,o,'insert-fragment');}};f.exports=m;},null);
__d('getRangeClientRects',['UserAgent','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.isBrowser('Chrome');function k(m){var n=m.cloneRange(),o=[];for(var p=m.endContainer;p!=null;p=p.parentNode){var q=p===m.commonAncestorContainer;if(q){n.setStart(m.startContainer,m.startOffset);}else n.setStart(n.endContainer,0);var r=Array.from(n.getClientRects());o.push(r);if(q){var s;o.reverse();return (s=[]).concat.apply(s,o);}n.setEndBefore(p);}i(0);}var l=j?k:function(m){return Array.from(m.getClientRects());};f.exports=l;},null);
__d('expandRangeToStartOfLine',['UnicodeUtils','getRangeClientRects','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(o){var p=getComputedStyle(o),q=document.createElement('div');q.style.fontFamily=p.fontFamily;q.style.fontSize=p.fontSize;q.style.fontStyle=p.fontStyle;q.style.fontWeight=p.fontWeight;q.style.lineHeight=p.lineHeight;q.style.position='absolute';q.textContent='M';document.body.appendChild(q);var r=q.getBoundingClientRect();document.body.removeChild(q);return r.height;}function l(o,p){var q=Infinity,r=Infinity,s=-Infinity,t=-Infinity;for(var u=0;u<o.length;u++){var v=o[u];if(v.width===0||v.width===1)continue;q=Math.min(q,v.top);r=Math.min(r,v.bottom);s=Math.max(s,v.top);t=Math.max(t,v.bottom);}return (s<=r&&s-q<p&&t-r<p);}function m(o){switch(o.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return o.length;default:return o.childNodes.length;}}function n(o){!o.collapsed?j(0):undefined;o=o.cloneRange();var p=o.startContainer;if(p.nodeType!==1)p=p.parentNode;var q=k(p),r=o.endContainer,s=o.endOffset;o.setStart(o.startContainer,0);while(l(i(o),q)){r=o.startContainer;s=o.startOffset;!r.parentNode?j(0):undefined;o.setStartBefore(r);if(r.nodeType===1&&getComputedStyle(r).display!=='inline')break;}var t=r,u=s-1;do{var v=t.nodeValue;for(var w=u;w>=0;w--){if(v!=null&&w>0&&h.isSurrogatePair(v,w-1))continue;o.setStart(t,w);if(l(i(o),q)){r=t;s=w;}else break;}if(w===-1||t.childNodes.length===0)break;t=t.childNodes[w];u=m(t);}while(true);o.setStart(r,s);return o;}f.exports=n;},null);
__d('getUpdatedSelectionState',['DraftOffsetKey','nullthrows'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m,n,o){var p=i(k.getSelection()),q=h.decode(l),r=q.blockKey,s=k.getBlockTree(r).getIn([q.decoratorKey,'leaves',q.leafKey]),t=h.decode(n),u=t.blockKey,v=k.getBlockTree(u).getIn([t.decoratorKey,'leaves',t.leafKey]),w=s.get('start'),x=v.get('start'),y=s?w+m:null,z=v?x+o:null,aa=p.getAnchorKey()===r&&p.getAnchorOffset()===y&&p.getFocusKey()===u&&p.getFocusOffset()===z;if(aa)return p;var ba=false;if(r===u){var ca=s.get('end'),da=v.get('end');if(x===w&&da===ca){ba=o<m;}else ba=x<w;}else{var ea=k.getCurrentContent().getBlockMap().keySeq().skipUntil(function(fa){return fa===r||fa===u;}).first();ba=ea===u;}return p.merge({anchorKey:r,anchorOffset:y,focusKey:u,focusOffset:z,isBackward:ba});}f.exports=j;},null);
__d('getDraftEditorSelectionWithNodes',['DraftCharacters','findAncestorOffsetKey','getSelectionOffsetKeyForNode','getUpdatedSelectionState','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=h.SOFT_NEWLINE;function o(t,u,v,w,x,y){var z=v.nodeType===Node.TEXT_NODE,aa=x.nodeType===Node.TEXT_NODE;if(z&&aa)return {selectionState:k(t,m(i(v)),w,m(i(x)),y),needsRecovery:false};var ba=null,ca=null;if(z){ba={key:m(i(v)),offset:w};ca=r(u,x,y);}else if(aa){ca={key:m(i(x)),offset:y};ba=r(u,v,w);}else{ba=r(u,v,w);ca=r(u,x,y);}return {selectionState:k(t,ba.key,ba.offset,ca.key,ca.offset),needsRecovery:true};}function p(t){while(t.firstChild&&j(t.firstChild))t=t.firstChild;return t;}function q(t){while(t.lastChild&&j(t.lastChild))t=t.lastChild;return t;}function r(t,u,v){var w=i(u);!(w!=null||t&&(t===u||t.firstChild===u))?l(0):undefined;if(t===u){u=u.firstChild;!(u instanceof Element&&u.getAttribute('data-contents')==='true')?l(0):undefined;if(v>0)v=u.childNodes.length;}if(v===0){var x=null;if(w!=null){x=w;}else{var y=p(u);x=m(j(y));}return {key:x,offset:0};}var z=u.childNodes[v-1],aa=null,ba=null;if(!j(z)){aa=m(w);ba=s(z);}else{var ca=q(z);aa=m(j(ca));ba=s(ca);}return {key:aa,offset:ba};}function s(t){var u=t.textContent;return u===n?0:u.length;}f.exports=o;},null);
__d('removeTextWithStrategy',['DraftModifier'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=j.getSelection(),n=j.getCurrentContent(),o=m;if(m.isCollapsed()){if(l==='forward'){if(j.isSelectionAtEndOfContent())return n;}else if(j.isSelectionAtStartOfContent())return n;o=k(j);if(o===m)return n;}return h.removeRange(n,o,l);}f.exports=i;},null);
__d('keyCommandBackspaceToStartOfLine',['EditorState','expandRangeToStartOfLine','getDraftEditorSelectionWithNodes','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(o){var p=b.getSelection(),q=p.getRangeAt(0);q=i(q);var r=j(o,null,q.endContainer,q.endOffset,q.startContainer,q.startOffset).selectionState;return r;},'backward');if(n===m.getCurrentContent())return m;return h.push(m,n,'remove-range');}f.exports=l;},null);
__d('DraftRemovableWord',['TokenizeUtil'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.getPunctuation(),j='[\'\u2018\u2019]',k='\\s|(?![_])'+i,l='^'+'(?:'+k+')*'+'(?:'+j+'|(?!'+k+').)*'+'(?:(?!'+k+').)',m=new RegExp(l),n='(?:(?!'+k+').)'+'(?:'+j+'|(?!'+k+').)*'+'(?:'+k+')*'+'$',o=new RegExp(n);function p(r,s){var t=s?o.exec(r):m.exec(r);return t?t[0]:r;}var q={getBackward:function(r){return p(r,true);},getForward:function(r){return p(r,false);}};f.exports=q;},null);
__d('moveSelectionBackward',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.getSelection(),l=i.getCurrentContent(),m=k.getStartKey(),n=k.getStartOffset(),o=m,p=0;if(j>n){var q=l.getKeyBefore(m);if(q==null){o=m;}else{o=q;var r=l.getBlockForKey(q);p=r.getText().length;}}else p=n-j;return k.merge({focusKey:o,focusOffset:p,isBackward:true});}f.exports=h;},null);
__d('keyCommandBackspaceWord',['DraftRemovableWord','EditorState','moveSelectionBackward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(o){var p=o.getSelection(),q=p.getStartOffset();if(q===0)return j(o,1);var r=p.getStartKey(),s=o.getCurrentContent(),t=s.getBlockForKey(r).getText().slice(0,q),u=h.getBackward(t);return j(o,u.length||1);},'backward');if(n===m.getCurrentContent())return m;return i.push(m,n,'remove-range');}f.exports=l;},null);
__d('moveSelectionForward',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.getSelection(),l=k.getStartKey(),m=k.getStartOffset(),n=i.getCurrentContent(),o=l,p,q=n.getBlockForKey(l);if(j>q.getText().length-m){o=n.getKeyAfter(l);p=0;}else p=m+j;return k.merge({focusKey:o,focusOffset:p});}f.exports=h;},null);
__d('keyCommandDeleteWord',['DraftRemovableWord','EditorState','moveSelectionForward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(o){var p=o.getSelection(),q=p.getStartOffset(),r=p.getStartKey(),s=o.getCurrentContent(),t=s.getBlockForKey(r).getText().slice(q),u=h.getForward(t);return j(o,u.length||1);},'forward');if(n===m.getCurrentContent())return m;return i.push(m,n,'remove-range');}f.exports=l;},null);
__d('keyCommandInsertNewline',['DraftModifier','EditorState'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){var l=h.splitBlock(k.getCurrentContent(),k.getSelection());return i.push(k,l,'split-block');}f.exports=j;},null);
__d('keyCommandPlainBackspace',['EditorState','UnicodeUtils','moveSelectionBackward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(p){var q=p.getSelection(),r=p.getCurrentContent(),s=q.getAnchorKey(),t=q.getAnchorOffset(),u=r.getBlockForKey(s).getText()[t-1];return j(p,u?i.getUTF16Length(u,0):1);},'backward');if(n===m.getCurrentContent())return m;var o=m.getSelection();return h.push(m,n.set('selectionBefore',o),o.isCollapsed()?'backspace-character':'remove-range');}f.exports=l;},null);
__d('keyCommandPlainDelete',['EditorState','UnicodeUtils','moveSelectionForward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(p){var q=p.getSelection(),r=p.getCurrentContent(),s=q.getAnchorKey(),t=q.getAnchorOffset(),u=r.getBlockForKey(s).getText()[t];return j(p,u?i.getUTF16Length(u,0):1);},'forward');if(n===m.getCurrentContent())return m;var o=m.getSelection();return h.push(m,n.set('selectionBefore',o),o.isCollapsed()?'delete-character':'remove-range');}f.exports=l;},null);
__d('keyCommandMoveSelectionToEndOfBlock',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getSelection(),l=k.getEndKey(),m=j.getCurrentContent(),n=m.getBlockForKey(l).getLength();return h.set(j,{selection:k.merge({anchorKey:l,anchorOffset:n,focusKey:l,focusOffset:n,isBackward:false}),forceSelection:true});}f.exports=i;},null);
__d('keyCommandMoveSelectionToStartOfBlock',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getSelection(),l=k.getStartKey();return h.set(j,{selection:k.merge({anchorKey:l,anchorOffset:0,focusKey:l,focusOffset:0,isBackward:false}),forceSelection:true});}f.exports=i;},null);
__d('keyCommandTransposeCharacters',['DraftModifier','EditorState','getContentStateFragment'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){var m=l.getSelection();if(!m.isCollapsed())return l;var n=m.getAnchorOffset();if(n===0)return l;var o=m.getAnchorKey(),p=l.getCurrentContent(),q=p.getBlockForKey(o),r=q.getLength();if(r<=1)return l;var s,t;if(n===r){s=m.set('anchorOffset',n-1);t=m;}else{s=m.set('focusOffset',n+1);t=s.set('anchorOffset',n+1);}var u=j(p,s),v=h.removeRange(p,s,'backward'),w=v.getSelectionAfter(),x=w.getAnchorOffset()-1,y=w.merge({anchorOffset:x,focusOffset:x}),z=h.replaceWithFragment(v,y,u),aa=i.push(l,z,'insert-fragment');return i.acceptSelection(aa,t);}f.exports=k;},null);
__d('keyCommandUndo',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=h.undo(k);if(k.getLastChangeType()==='spellcheck-change'){var n=m.getCurrentContent();l(h.set(m,{nativelyRenderedContent:n}));return;}j.preventDefault();if(!k.getNativelyRenderedContent()){l(m);return;}l(h.set(k,{nativelyRenderedContent:null}));setTimeout(function(){l(m);},0);}f.exports=i;},null);
__d('editOnKeyDown',['EditorState','Keys','SecondaryClipboard','keyCommandBackspaceToStartOfLine','keyCommandBackspaceWord','keyCommandDeleteWord','keyCommandInsertNewline','keyCommandPlainBackspace','keyCommandPlainDelete','keyCommandMoveSelectionToEndOfBlock','keyCommandMoveSelectionToStartOfBlock','keyCommandTransposeCharacters','keyCommandUndo'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();function u(w,x){switch(w){case 'redo':return h.redo(x);case 'delete':return p(x);case 'delete-word':return m(x);case 'backspace':return o(x);case 'backspace-word':return l(x);case 'backspace-to-start-of-line':return k(x);case 'insert-block-delimiter':return n(x);case 'transpose-characters':return s(x);case 'move-selection-to-start-of-block':return r(x);case 'move-selection-to-end-of-block':return q(x);case 'secondary-cut':return j.cut(x);case 'secondary-paste':return j.paste(x);default:return x;}}function v(w){var x=w.which,y=this.props.editorState;switch(x){case i.RETURN:w.preventDefault();if(!this.props.handleReturn||!this.props.handleReturn(w))this.update(n(y));return;case i.ESC:w.preventDefault();this.props.onEscape&&this.props.onEscape(w);return;case i.TAB:this.props.onTab&&this.props.onTab(w);return;case i.UP:this.props.onUpArrow&&this.props.onUpArrow(w);return;case i.DOWN:this.props.onDownArrow&&this.props.onDownArrow(w);return;}var z=this.props.keyBindingFn(w);if(!z)return;if(z==='undo'){t(w,y,this.update);return;}w.preventDefault();if(this.props.handleKeyCommand&&this.props.handleKeyCommand(z))return;var aa=u(z,y);if(aa!==y)this.update(aa);}f.exports=v;},null);
__d('TextEditorPasteHandler',['CharacterMetadata','ComposedBlockType','ComposedLinkEntityProperties','ComposedInlineStyle','ContentBlock','DraftEntity','DraftCharacters','immutable','URI','arrayContains','fillArray','generateBlockKey','getSafeBodyFromHTML','nullthrows','sanitizeDraftText'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=i.HEADER_ONE,x=i.HEADER_TWO,y=i.ORDERED_LIST_ITEM,z=i.UNORDERED_LIST_ITEM,aa=i.BLOCKQUOTE,ba=i.UNSTYLED,ca=k.BOLD,da=k.ITALIC,ea=k.UNDERLINE,fa=k.CODE,ga=k.STRIKETHROUGH,ha=k.NONE,ia=h.EMPTY,ja=j.URL,ka=n.BLOCK_DELIMITER,la=n.SOFT_NEWLINE,ma=o.List,na=o.Repeat,oa='&nbsp;',pa=' ',qa=4,ra=new RegExp(ka,'g'),sa=new RegExp(la,'g'),ta=new RegExp(oa,'g'),ua=['p','h1','h2','h3','li','blockquote','pre'],va={b:ca,code:fa,del:ga,em:da,i:da,s:ga,strike:ga,strong:ca,u:ea},wa;function xa(){return {text:'',inlines:[],entities:[],blocks:[]};}function ya(jb){var kb=new Array(1);if(jb)kb[0]=jb;return {text:pa,inlines:[ha],entities:kb,blocks:[]};}function za(){return {text:la,inlines:[ha],entities:new Array(1),blocks:[]};}function ab(jb,kb){return {text:ka,inlines:[ha],entities:new Array(1),blocks:[{type:jb,depth:Math.max(0,Math.min(qa,kb))}]};}function bb(jb,kb){switch(jb){case 'h1':return w;case 'h2':return x;case 'li':if(kb==='ol')return y;return z;case 'blockquote':return aa;case 'pre':return i.CODE;default:return ba;}}function cb(jb,kb,lb){var mb=va[jb];if(mb){lb|=mb;}else if(kb.style){lb|=kb.style.fontWeight==='bold'?ca:0;lb|=kb.style.fontStyle==='italic'?da:0;lb|=kb.style.textDecoration==='underline'?ea:0;lb|=kb.style.textDecoration==='line-through'?ga:0;}return lb;}function db(jb,kb){if(jb.text.slice(-1)===ka&&kb.text.slice(0,1)===ka){jb.text=jb.text.slice(0,-1);jb.inlines.pop();jb.entities.pop();jb.blocks.pop();}if(jb.text.slice(-1)===ka&&(kb.text===pa||kb.text===la))return jb;return {text:jb.text+kb.text,inlines:jb.inlines.concat(kb.inlines),entities:jb.entities.concat(kb.entities),blocks:jb.blocks.concat(kb.blocks)};}function eb(jb){return ua.some(function(kb){return jb.indexOf('<'+kb)!==-1;});}function fb(jb){var kb=new p(jb),lb=kb.getProtocol();return lb==='http'||lb==='https';}function gb(jb,kb,lb,mb,nb,ob,pb){var qb=jb.nodeName.toLowerCase(),rb=false,sb=ba,tb=wa;wa=qb;if(qb==='#text'){var ub=jb.textContent;if(ub.trim()===''&&mb!=='pre')return ya(pb);if(mb!=='pre')ub=ub.replace(sa,pa);return {text:ub,inlines:r(ub.length,kb),entities:r(ub.length,pb),blocks:[]};}if(qb==='br'){if(tb==='br'&&(!mb||bb(mb,lb)===ba))return ab(ba,ob);return za();}var vb=xa(),wb=null;kb=cb(qb,jb,kb);if(qb==='ul'||qb==='ol'){if(lb)ob+=1;lb=qb;}if(!mb&&q(nb,qb)){vb=ab(bb(qb,lb),ob);mb=qb;rb=true;}else if(lb&&mb==='li'&&qb==='li'){vb=ab(bb(qb,lb),ob);mb=qb;rb=true;sb=lb==='ul'?z:y;}var xb=jb.firstChild;if(xb!=null)qb=xb.nodeName.toLowerCase();var yb=null,zb=null,ac=null;while(xb){if(qb==='a'&&xb.href&&fb(xb.href)){zb=new p(xb.href).toString();ac={};ac[ja]=zb;yb=m.create('LINK','MUTABLE',ac);}else yb=undefined;wb=gb(xb,kb,lb,mb,nb,ob,yb||pb);vb=db(vb,wb);var bc=xb.nextSibling;if(bc&&nb.indexOf(qb)>=0&&mb)vb=db(vb,za());if(bc)qb=bc.nodeName.toLowerCase();xb=bc;}if(rb)vb=db(vb,ab(sb,ob));return vb;}function hb(jb){jb=jb.trim().replace(ra,'').replace(ta,pa);var kb=t(jb);if(!kb)return null;wa=null;var lb=eb(jb)?ua:['div'],mb=gb(kb,ha,'ul',null,lb,-1);if(mb.text.indexOf(ka)===0)mb={text:mb.text.slice(1),inlines:mb.inlines.slice(1),entities:mb.entities.slice(1),blocks:mb.blocks};if(mb.text.slice(-1)===ka){mb.text=mb.text.slice(0,-1);mb.inlines=mb.inlines.slice(0,-1);mb.entities=mb.entities.slice(0,-1);mb.blocks.pop();}if(mb.blocks.length===0)mb.blocks.push({type:ba,depth:0});if(mb.text.split(ka).length===mb.blocks.length+1)mb.blocks.unshift({type:ba,depth:0});return mb;}var ib={processHTML:function(jb){var kb=hb(jb);if(kb==null)return null;var lb=0;return kb.text.split(ka).map(function(mb,nb){mb=v(mb);var ob=lb+mb.length,pb=u(kb).inlines.slice(lb,ob),qb=u(kb).entities.slice(lb,ob),rb=ma(pb.map(function(sb,tb){var ub={style:sb,entity:null};if(qb[tb])ub.entity=qb[tb];return h.create(ub);}));lb=ob+1;return new l({key:s(),type:u(kb).blocks[nb].type,depth:u(kb).blocks[nb].depth,text:mb,characterList:rb});});},processText:function(jb,kb){return jb.map(function(lb){lb=v(lb);return new l({key:s(),type:ba,text:lb,characterList:ma(na(kb,lb.length))});});}};f.exports=ib;},null);
__d('getTextContentFromFiles',['DraftCharacters'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.BLOCK_DELIMITER,j=/\.textClipping$/,k={'text/plain':true,'text/html':true,'text/rtf':true},l=5000;function m(o,p){var q=0,r=[];o.forEach(function(s){n(s,function(t){q++;t&&r.push(t.slice(0,l));if(q==o.length)p(r.join(i));});});}function n(o,p){if(!b.FileReader||o.type&&!(o.type in k)){p('');return;}if(o.type===''){if(j.test(o.name))p(o.name.replace(j,''));return;}var q=new FileReader();q.onload=function(){p(q.result);};q.onerror=function(){p('');};q.readAsText(o);}f.exports=m;},null);
__d('editOnPaste',['BlockMapBuilder','CharacterMetadata','DataTransfer','DraftCharacters','DraftModifier','EditorState','TextEditorPasteHandler','getEntityKeyForSelection','getTextContentFromFiles','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=k.SOFT_NEWLINE;function s(v){v.preventDefault();var w=new j(v.clipboardData);if(!w.isRichText()){var x=w.getFiles(),y=w.getText();if(x.length>0){if(this.props.handlePastedFiles&&this.props.handlePastedFiles(x))return;p(x,(function(la){la=la||y;if(!la)return;var ma=this.props.editorState,na=la.split(r),oa=i.create({style:ma.getCurrentInlineStyle(),entity:o(ma.getCurrentContent(),ma.getSelection())}),pa=n.processText(na,oa),qa=h.createFromArray(pa),ra=l.replaceWithFragment(ma.getCurrentContent(),ma.getSelection(),qa);this.update(m.push(ma,ra,'insert-fragment'));}).bind(this));return;}}var z=null,aa=w.getText();this.props.onPasteRawText&&this.props.onPasteRawText(aa);if(aa)z=aa.split(r);if(!this.props.stripPastedStyles){if(w.isRichText()&&this._clipboard){z=q(z);var ba=z.filter(t),ca=this._clipboard.toSeq().map(function(la){return la.getText();}).filter(t).toArray(),da=ba.every(function(la,ma){return la===ca[ma];});if(da){this.update(u(this.props.editorState,this._clipboard));return;}}var ea=w.getHTML();if(ea){var fa=n.processHTML(ea);if(fa){var ga=h.createFromArray(fa);this.update(u(this.props.editorState,ga));return;}}this._clipboard=null;}if(z){var ha=this.props.editorState,ia=i.create({style:ha.getCurrentInlineStyle(),entity:o(ha.getCurrentContent(),ha.getSelection())}),ja=n.processText(z,ia),ka=h.createFromArray(ja);this.update(u(this.props.editorState,ka));}}function t(v){return v.length>0;}function u(v,w){var x=l.replaceWithFragment(v.getCurrentContent(),v.getSelection(),w);return m.push(v,x,'insert-fragment');}f.exports=s;},null);
__d('getDraftEditorSelection',['getDraftEditorSelectionWithNodes'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=b.getSelection();if(l.rangeCount===0)return {selectionState:j.getSelection().set('hasFocus',false),needsRecovery:false};return h(j,k,l.anchorNode,l.anchorOffset,l.focusNode,l.focusOffset);}f.exports=i;},null);
__d('editOnSelect',['EditorState','ReactDOM','getDraftEditorSelection'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){if(this._blockSelectEvents)return;var l=this.props.editorState,m=j(l,i.findDOMNode(this.refs.editorContainer).firstChild),n=m.selectionState;if(n!==l.getSelection()){if(m.needsRecovery){l=h.forceSelection(l,n);}else l=h.acceptSelection(l,n);this.update(l);}}f.exports=k;},null);
__d('TextEditorEditHandler',['editOnBeforeInput','editOnBlur','editOnCompositionStart','editOnCopy','editOnCut','editOnDragOver','editOnDragStart','editOnFocus','editOnInput','editOnKeyDown','editOnPaste','editOnSelect'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t={onBeforeInput:h,onBlur:i,onCompositionStart:j,onCopy:k,onCut:l,onDragOver:m,onDragStart:n,onFocus:o,onInput:p,onKeyDown:q,onPaste:r,onSelect:s};f.exports=t;},null);
__d('TextEditorDragHandler',['DataTransfer','DraftModifier','EditorState','findAncestorOffsetKey','getTextContentFromFiles','getUpdatedSelectionState','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();function o(event,s){var t=null,u=null;if(document.caretRangeFromPoint){var v=document.caretRangeFromPoint(event.x,event.y);t=v.startContainer;u=v.startOffset;}else if(event.rangeParent){t=event.rangeParent;u=event.rangeOffset;}else return null;t=n(t);u=n(u);var w=n(k(t));return m(s,w,u,w,u);}var p={onDragEnd:function(){this.exitCurrentMode();},onDrop:function(s){var t=new h(s.nativeEvent.dataTransfer),u=this.props.editorState,v=o(s.nativeEvent,u);s.preventDefault();this.exitCurrentMode();if(v==null)return;var w=t.getFiles();if(w.length>0){if(this.props.handleDroppedFiles&&this.props.handleDroppedFiles(v,w))return;l(w,(function(x){x&&this.update(r(u,n(v),x));}).bind(this));return;}if(this._internalDrag){this.update(q(u,v));return;}this.update(r(u,v,t.getText()));}};function q(s,t){var u=i.moveText(s.getCurrentContent(),s.getSelection(),t);return j.push(s,u,'insert-fragment');}function r(s,t,u){var v=i.insertText(s.getCurrentContent(),t,u,s.getCurrentInlineStyle());return j.push(s,v,'insert-fragment');}f.exports=p;},null);
__d('AbstractTextEditor.react',['AbstractTextEditorPlaceholder.react','AbstractTextEditorProps','DOMVector','EditorState','React','ReactDOM','TextEditorCompositionHandler','TextEditorContents.react','TextEditorEditHandler','TextEditorDragHandler','UserAgent','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=r.isBrowser('IE'),u=!t;function v(y){return function(z){if(!this.props.readOnly){var aa=this._handler&&this._handler[y];aa&&aa.call(this,z);}};}function w(y){switch(y){case 'edit':return p;case 'composite':return n;case 'drag':return q;case 'cut':case 'render':return null;}}var x=l.createClass({displayName:'AbstractTextEditor',getDefaultProps:i.getDefaultProps,_blockSelectEvents:false,_clipboard:null,_guardAgainstRender:false,_handler:null,_onBeforeInput:v('onBeforeInput'),_onBlur:v('onBlur'),_onCharacterData:v('onCharacterData'),_onCompositionEnd:v('onCompositionEnd'),_onCompositionStart:v('onCompositionStart'),_onCopy:v('onCopy'),_onCut:v('onCut'),_onDragEnd:v('onDragEnd'),_onDragOver:v('onDragOver'),_onDragStart:v('onDragStart'),_onDrop:v('onDrop'),_onInput:v('onInput'),_onFocus:v('onFocus'),_onKeyDown:v('onKeyDown'),_onKeyPress:v('onKeyPress'),_onKeyUp:v('onKeyUp'),_onMouseDown:v('onMouseDown'),_onMouseUp:v('onMouseUp'),_onPaste:v('onPaste'),_onSelect:v('onSelect'),_disableIELinkDetection:function(){if(t)document.execCommand('AutoUrlDetect',false,false);},_renderPlaceholder:function(){var y=this.props.editorState.getCurrentContent(),z=this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!y.hasText();if(z)return (l.createElement(h,{text:this.props.placeholder,editorState:this.props.editorState,textAlignment:this.props.textAlignment}));},getInitialState:function(){return {containerKey:0};},render:function(){var y=this.props.textAlignment,z="_5yw9"+(y==='left'?' '+"_48yc":'')+(y==='right'?' '+"_48yd":'')+(y==='center'?' '+"_48ye":''),aa=this.props.editorState.getCurrentContent().hasText(),ba=this.props.readOnly;return (l.createElement('div',{className:z},this._renderPlaceholder(),l.createElement('div',{className:"_5ywa",key:'editor'+this.state.containerKey,ref:'editorContainer'},l.createElement('div',{'aria-activedescendant':ba?null:this.props.ariaActiveDescendantID,'aria-autocomplete':ba?null:this.props.ariaAutoComplete,'aria-describedby':this.props.ariaDescribedBy,'aria-expanded':ba?null:this.props.ariaExpanded,'aria-haspopup':ba?null:this.props.ariaHasPopup,'aria-label':this.props.ariaLabel,'aria-owns':ba?null:this.props.ariaOwneeID,className:"_54-z",contentEditable:!this.props.readOnly,'data-testid':this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:'editor',role:ba?null:this.props.role||'textbox',spellCheck:u&&this.props.spellCheck,tabIndex:this.props.tabIndex,title:aa?null:this.props.placeholder},l.createElement(o,{blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,editorState:this.props.editorState,inlineStyleFn:this.props.inlineStyleFn})))));},focus:function(){var y=this.props.editorState,z=y.getSelection().getHasFocus(),aa=j.getScrollPosition();m.findDOMNode(this.refs.editor).focus();window.scrollTo(aa.x,aa.y);if(z)return;this.update(k.forceSelection(y,y.getSelection()));},blur:function(){m.findDOMNode(this.refs.editor).blur();},componentDidMount:function(){this._clipboard=null;this._guardAgainstRender=false;this._handler=p;this._disableIELinkDetection();},componentWillUpdate:function(){this._blockSelectEvents=true;},componentDidUpdate:function(){this._blockSelectEvents=false;},setMode:function(y){this._handler=w(y);},exitCurrentMode:function(){this.setMode('edit');},restoreEditorDOM:function(){this.setState({containerKey:this.state.containerKey+1},this.focus);},setRenderGuard:function(){this._guardAgainstRender=true;},removeRenderGuard:function(){this._guardAgainstRender=false;},update:function(y){this.props.onChange(y);}});f.exports=x;},null);
__d('AbstractMentionsTextEditor.react',['AbstractTextEditor.react','AbstractTextEditorProps','DraftModifier','EditorState','React','TypeaheadNavigation','clearImmediate','getOrCreateDOMID','setImmediate','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=l.PropTypes,s=5,t=l.createClass({displayName:'AbstractMentionsTextEditor',propTypes:babelHelpers._extends({},i.propTypes,{mentionsSource:r.object,mentionCreationFn:r.func.isRequired,mentionResultsComponent:r.func.isRequired,mentionResultsProps:r.object,excludedEntries:r.object,handleContentReturn:r.func,onAddMention:r.func,onShowMentions:r.func,autoHighlight:r.bool,maxResults:r.number}),getDefaultProps:function(){var v=h.getDefaultProps();return babelHelpers._extends({},v,{autoHighlight:true,maxResults:s});},componentWillMount:function(){this._viewID=q();this._searchTimeouts=[];},componentWillUnmount:function(){this._searchTimeouts.forEach(function(v){return n(v);});this._searchTimeouts=null;},getInitialState:function(){return {highlightedMentionable:null,ariaActiveDescendantID:null,mentionableEntries:null,characterOffset:0};},_onShowMentions:function(v,w){if(!this.isMounted())return;var x=v&&v.length;if(!x){this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return;}var y=v.slice(0,this.props.maxResults),z=this.props.typeaheadViewProps;if(z&&z.mentionSortFn)y.sort(z.mentionSortFn);var aa=null;if(this.props.autoHighlight||this.state.highlightedMentionable!==null)aa=v[0];this.setState({highlightedMentionable:aa,mentionableEntries:y,characterOffset:w});if(this.props.onShowMentions)this.props.onShowMentions(y,w);},_onBlur:function(v){this.setState(this.getInitialState());this.props.onBlur&&this.props.onBlur(v);},_onFocus:function(v){this.props.mentionsSource&&this.props.mentionsSource.bootstrap();this.props.onFocus&&this.props.onFocus(v);},_handleReturn:function(v){if(this.state.highlightedMentionable){this._onMentionSelect(this.state.highlightedMentionable,v);return true;}else if(this.props.handleContentReturn&&this.props.handleContentReturn(v))return true;return false;},_onTab:function(v){if(this.state.highlightedMentionable){v.preventDefault();this._onMentionSelect(this.state.highlightedMentionable,v);}else if(this.props.onTab)this.props.onTab(v);},_onEscape:function(v){if(this.props.onEscape)this.props.onEscape(v);if(this.state.mentionableEntries){v.stopPropagation();this.setState(this.getInitialState());}},_onUpArrow:function(v){if(this.state.mentionableEntries){v.preventDefault();m.moveUp(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onUpArrow&&this.props.onUpArrow(v);},_onDownArrow:function(v){if(this.state.mentionableEntries){v.preventDefault();m.moveDown(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onDownArrow&&this.props.onDownArrow(v);},_onMentionHighlight:function(v){this.setState({highlightedMentionable:v});},_onMentionRenderHighlight:function(v){var w=o(v);this.setState({ariaActiveDescendantID:w});},_onMentionSelect:function(v,w){var x=this.props.editorState,y=x.getSelection(),z=x.getCurrentContent(),aa=y.getAnchorKey(),ba=y.getAnchorOffset(),ca=z.getBlockMap().get(aa),da=ba-u(ca.getText().substr(0,ba),v.getTitle(),this.state.characterOffset),ea=j.replaceText(z,y.set('anchorOffset',da),v.getTitle(),x.getCurrentInlineStyle(),this.props.mentionCreationFn(v)),fa=k.push(x,ea,'insert-fragment');this.props.onChange(fa);this.setState(this.getInitialState());if(this.props.onAddMention){var ga=this.state.mentionableEntries.indexOf(v);this.props.onAddMention(v,ga,w);}},shouldComponentUpdate:function(v,w){return (this.props.editorState!==v.editorState||this.props.placeholder!==v.placeholder||this.props.readOnly!==v.readOnly||this.state.mentionableEntries!==w.mentionableEntries||this.state.highlightedMentionable!==w.highlightedMentionable||this.state.ariaActiveDescendantID!==w.ariaActiveDescendantID);},componentDidUpdate:function(v){var w=this.props.editorState;if(w===v.editorState)return;var x=w.getSelection();if(x.getHasFocus()&&x.isCollapsed()){var y=w.getCurrentContent();if(this.props.mentionsSource)this._searchTimeouts.push(p((function(){this.props.mentionsSource.search(y,x,this._onShowMentions);}).bind(this)));}},blur:function(){this.refs.abstractTextEditor.blur();},focus:function(){this.refs.abstractTextEditor.focus();},_renderMentionables:function(){var v=this.state.mentionableEntries;if(!v||!v.length)return null;var w=this.props.mentionResultsComponent;return (l.createElement(w,babelHelpers._extends({},this.props.mentionResultsProps,{viewID:this._viewID,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:v||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this._onMentionSelect,onMentionHighlight:this._onMentionHighlight,onMentionRenderHighlight:this._onMentionRenderHighlight})));},render:function(){var v=this.state.mentionableEntries,w=!!(v&&v.length),x=this.props.readOnly?null:'-2';return (l.createElement('div',{ref:'container',className:this.props.className,tabIndex:x},l.createElement(h,babelHelpers._extends({},this.props,{ref:'abstractTextEditor',role:'combobox',ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:'list',ariaOwneeID:this._viewID,ariaExpanded:w,ariaHasPopup:w,onBlur:this._onBlur,onFocus:this._onFocus,onTab:this._onTab,onEscape:this._onEscape,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,handleReturn:this._handleReturn})),this._renderMentionables()));}});function u(v,w,x){for(var y=x;y<=w.length;y++)if(v.substr(-y)==w.substr(0,y))x=y;return x;}f.exports=t;},null);
__d('createMentionEntity',['DraftEntity'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getType().toLowerCase();if(k==='hashtag')return h.create('HASHTAG','IMMUTABLE');var l=k==='user'||k==='fb4c'?'SEGMENTED':'IMMUTABLE',m=j.getAuxiliaryData();return h.create('MENTION',l,{id:j.getUniqueID(),isWeak:m&&m.renderType==='non_member',type:k});}f.exports=i;},null);
__d('MentionsInput.react',['AbstractMentionsTextEditor.react','EditorState','MentionsLayer.react','React','createMentionEntity','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'MentionsInput',propTypes:{editorState:o.instanceOf(i).isRequired,mentionsSource:o.object,typeaheadView:o.func.isRequired,typeaheadViewPropTypes:o.object,spellCheck:o.bool,placeholder:o.string,className:o.string,autoflip:o.bool,position:o.oneOf(['above','below']),handleContentReturn:o.func,handleDroppedFiles:o.func,handlePastedFiles:o.func,onAddMention:o.func,onShowMentions:o.func,onChange:o.func,onInputFocus:o.func,onInputBlur:o.func},blur:function(){this.refs.textEditor.blur();},focus:function(){clearTimeout(this._focusTimer);this._focusTimer=setTimeout((function(){this.refs.textEditor.focus();}).bind(this),0);},componentWillUnmount:function(){clearTimeout(this._focusTimer);},render:function(){var q=n(this.props.className,"_5yk1");return (k.createElement('div',{className:q,onClick:this.focus,onFocus:this.focus},k.createElement(h,babelHelpers._extends({},this.props,{mentionResultsComponent:j,mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip,position:this.props.position},mentionCreationFn:l,ref:'textEditor',className:"_5yk2",stripPastedStyles:true}))));}});f.exports=p;},null);
__d('DevxFluxDispatcher',['Dispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.handleServerAction=function(l){this.$DevxFluxDispatcher1('serverAction',l);};k.prototype.handleViewAction=function(l){this.$DevxFluxDispatcher1('viewAction',l);};k.prototype.$DevxFluxDispatcher1=function(l,m){this.dispatch(babelHelpers._extends({source:l},m));};function k(){i.apply(this,arguments);}f.exports=new k();},null);
__d('DevxProxyActions',['DevxFluxDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){Object.keys(j.ActionHandler).forEach((function(k){this[k]=function(){for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];h.handleViewAction({action:k,args:m});};}).bind(this));}f.exports=i;},null);
__d('createEditorStateWithEntities',['ContentState','DraftCharacters','EditorState','applyEntityToContentBlock','createPlainBlocksFromText'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=new RegExp(i.SOFT_NEWLINE,'ig');function n(o){var p=o.text,q=o.ranges,r=o.decorator,s=o.entityCreationFn,t=o.splitIntoBlocks,u=o.allowUndo,v,w;if(t===undefined)t=true;if(p){v=t?p.split(m):[p];w=[];var x=0;v.forEach(function(aa){w.push(x);x+=aa.length+1;});}else v=[''];var y=l(v);if(q&&q.length&&s)q.forEach(function(aa){var ba=s(aa.entity);if(ba===null)return;var ca=aa.offset,da,ea;for(var fa=0;fa<w.length;fa++){var ga=w[fa],ha=w[fa+1];if(ha===undefined||ca>=ga&&ca<ha){da=y[fa];ea=ca-ga;break;}}y[fa]=k(da,ea,ea+aa.length,ba);});var z=j.createWithContent(h.createFromBlockArray(y),r);if(u===false)z=j.set(z,{allowUndo:false});return z;}f.exports=n;},null);
__d('getVisibleValueForContentState',['DraftCharacters','DraftEntity','emptyFunction'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.SOFT_NEWLINE;function l(m){var n=m.getBlockMap().map(function(o){var p=o.getText(),q='';o.findEntityRanges(j.thatReturnsTrue,function(r,s){var t=o.getEntityAt(r);if(t===null){q+=p.slice(r,s);}else{var u=i.get(t);if(u.getType()==='EMOTICON'){q+=u.getData().originalEmoticon;}else q+=p.slice(r,s);}});return q;});return n.join(k);}f.exports=l;},null);
__d('DocumentMentionsRegex',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\\/!%\'"~=<>_:;',i='\\b[A-Z][^\\s'+h+']',j={PUNCTUATION:h,NAME:i};f.exports=j;},null);
__d('AtSignMentionsStrategy',['DocumentMentionsRegex'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.PUNCTUATION,j=['@','\\uff20'].join(''),k='[^'+j+i+'\\s]',l='(?:'+'\\.[ |$]|'+' |'+'['+i+']|'+')',m=new RegExp('(?:^|\\s)('+'['+j+']'+'((?:'+k+l+'){0,20})'+')$'),n={name:'AtSignMentionsStrategy',findMentionableString:function(o){var p=m.exec(o);if(p!==null){var q=p[2];if(q.length)return {matchingString:q,leadOffset:p[1].length};}return null;}};f.exports=n;},null);
__d('CapitalizedNameMentionsStrategy',['DocumentMentionsRegex'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=1,j=new RegExp('(^|[^#])((?:'+h.NAME+'{'+i+',})$)'),k={name:'CapitalizedNameMentionsStrategy',findMentionableString:function(l){var m=j.exec(l);if(m!==null)return {matchingString:m[2],leadOffset:m[2].length};return null;}};f.exports=k;},null);
__d('DocumentCompositeMentionsSource',['emptyFunction','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(m,n){var o=m.getCharacterList().toSeq().slice(0,n).reverse().takeWhile(function(p){return p.getEntity()===null;}).count();return m.getText().slice(n-o,n);}function l(m){!(m.length>0)?i(0):undefined;this.$DocumentCompositeMentionsSource1=m;this.$DocumentCompositeMentionsSource2=false;this.$DocumentCompositeMentionsSource3=null;}l.prototype.bootstrap=function(m){if(this.$DocumentCompositeMentionsSource2)return;this.$DocumentCompositeMentionsSource2=true;m=m||h;var n=this.$DocumentCompositeMentionsSource1.length;function o(){n--;if(!n)m&&m();}this.$DocumentCompositeMentionsSource1.forEach(function(p){p.bootstrap(o);});};l.prototype.search=function(m,n,o){var p=n.getAnchorKey(),q=m.getBlockForKey(p);this.$DocumentCompositeMentionsSource4(k(q,n.getAnchorOffset()),o);};l.prototype.$DocumentCompositeMentionsSource4=function(m,n){var o=this.$DocumentCompositeMentionsSource1.length,p,q;for(var r=0;r<o;r++){p=this.$DocumentCompositeMentionsSource1[r];q=p.findMatch(m);if(q===null){continue;}else{var s=j(q).matchingString;this.$DocumentCompositeMentionsSource3=s;p.search(s,(function(t,u){if(this.$DocumentCompositeMentionsSource3===u)n(t,q.leadOffset);}).bind(this));return;}}this.$DocumentCompositeMentionsSource3=null;n(null,null);};f.exports=l;},null);
__d('DocumentMentionsSource',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){!(typeof j.findMentionableString==='function')?h(0):undefined;this.$DocumentMentionsSource1=j;this.$DocumentMentionsSource2=k;this.$DocumentMentionsSource3=false;}i.prototype.findMatch=function(j){return this.$DocumentMentionsSource1.findMentionableString(j);};i.prototype.bootstrap=function(j){if(!this.$DocumentMentionsSource3){this.$DocumentMentionsSource3=true;this.$DocumentMentionsSource2.bootstrap(j);}};i.prototype.search=function(j,k){this.$DocumentMentionsSource2.search(j,k,{strategyName:this.$DocumentMentionsSource1.name});};f.exports=i;},null);
__d('getMentionsTextForContentState',['DraftCharacters','DraftEntity','emptyFunction'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.SOFT_NEWLINE,l=j.thatReturnsTrue,m=/[\\\]:]/g;function n(p){var q=p.getBlockMap().map(function(r){var s=r.getText(),t=[];r.findEntityRanges(l,function(u,v){t.push(o(s.slice(u,v),r.getEntityAt(u)));});return t.join('');});return q.join(k);}function o(p,q){if(q){var r=i.get(q);if(r.getType()==='MENTION'){p=p.replace(m,function(s){return '\\'+s;});return '@['+r.getData().id+':'+p+']';}else if(r.getType()==='EMOTICON')return r.getData().originalEmoticon;}return p.replace('@[','@ [');}f.exports=n;},null);
__d('FilteredSearchSource',['AbstractSearchSource'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this);this.$FilteredSearchSource1=l;this.$FilteredSearchSource2=m;}k.prototype.bootstrapImpl=function(l){'use strict';this.$FilteredSearchSource2.bootstrap(l);};k.prototype.searchImpl=function(l,m,n){'use strict';var o=(function(p,q){p=this.$FilteredSearchSource3(p,q);m(p,q);}).bind(this);this.$FilteredSearchSource2.search(l,o,n);};k.prototype.$FilteredSearchSource3=function(l,m){'use strict';var n=this.$FilteredSearchSource1;return l.filter(function(o){return n(o,m);});};f.exports=k;},null);
__d('filterCapitalizedNames',['TokenizeUtil'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(m,n){return j(m)&&(n.length>=5||k(m,n));}function j(m){var n=m.getAuxiliaryData()||l;return !n.disableAutosuggest&&!!(m.getType()==='user'||n.connectedPage);}function k(m,n){return h.isExactMatch(n,m.getTitle());}var l={};f.exports=i;},null);
__d("XDeveloperDocumentationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/docs\/{?path1}\/{?path2}\/{?path3}\/{?path4}\/{?path5}\/{?path6}\/",{path:{type:"String"},version:{type:"String"},preview:{type:"Exists",defaultValue:false},revisionid:{type:"Int"},locale:{type:"String"},path1:{type:"String"},path2:{type:"String"},path3:{type:"String"},path4:{type:"String"},path5:{type:"String"},path6:{type:"String"}});},null,{});
__d('CommentsPluginFooter.react',['ImageBlock.react','React','XDeveloperDocumentationController','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,i.Component);m=l&&l.prototype;n.prototype.render=function(){return (i.createElement('div',{className:"_5lm5 _2pi3 _3-8y"},i.createElement(h,null,i.createElement('img',{src:'/images/like/icons/fav.png'}),i.createElement('a',{target:'_blank',href:j.getURIBuilder().setString('path1','plugins').setString('path2','comments').getURI().setSubdomain('developers')},'Facebook Comments Plugin'))));};function n(){l.apply(this,arguments);}f.exports=n;},null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/moderate\/ban\/{comment_id}\/",{comment_id:{type:"String",required:true}});},null,{});
__d("XPluginCommentsCreateCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/createComment\/{target_id}\/",{target_id:{type:"Int",required:true}});},null,{});
__d("XPluginCommentsCreateReplyAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/createReply\/{parent_comment_id}\/",{parent_comment_id:{type:"String",required:true}});},null,{});
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/delete\/",{});},null,{});
__d("XPluginCommentsEditCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/edit\/",{});},null,{});
__d("XPluginCommentsFlagCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/flag\/",{});},null,{});
__d("XPluginCommentsLikeCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/like\/",{action_like:{type:"Bool",defaultValue:false}});},null,{});
__d("XPluginCommentsHideCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/moderate\/hide\/{url_id}\/",{url_id:{type:"Int",required:true},action:{type:"Enum",required:true,enumType:1},type:{type:"Enum",required:true,enumType:1}});},null,{});
__d("XPluginCommentsPagerAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/{target_id}\/pager\/{ordering}\/",{target_id:{type:"Int",required:true},ordering:{type:"Enum",required:true,enumType:1}});},null,{});
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/comment\/{comment_id}\/pager\/",{comment_id:{type:"String",required:true}});},null,{});
__d('CommentsPluginStore',['AsyncRequest','XPluginCommentsBanAuthorAsyncController','XPluginCommentsCreateCommentAsyncController','XPluginCommentsCreateReplyAsyncController','XPluginCommentsDeleteCommentAsyncController','DeveloperCommentsModerationAction','DeveloperCommentsModerationSource','DeveloperCommentsModerationType','DevxFluxDispatcher','DTSG','XPluginCommentsEditCommentAsyncController','XPluginCommentsFlagCommentAsyncController','XPluginCommentsLikeCommentAsyncController','XPluginCommentsHideCommentAsyncController','MultiLoginPopup','XPluginCommentsPagerAsyncController','XPluginCommentsRepliesPagerAsyncController','UnverifiedXD','fbt','getMentionsTextForContentState','getVisibleValueForContentState','invariant','mixInEventEmitter','nullthrows','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){'use strict';if(c.__markCompiled)c.__markCompiled();var ga=10,ha='__DEVX__',ia={visibleValue:'',encodedValue:''},ja={change:true,composerChange:true,composerCommentAdded:true,login:true,moreCommentsCompleted:true,moreRepliesCompleted:true,postError:true,sortingCompleted:true,sentryAction:true},ka={maxLines:10,maxLength:1000},la=[],ma={},na={userID:null,actors:{},appID:null,afterCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:'',iframeReferer:null,isMobile:false,isModerator:false,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{},minFeedLength:0},oa=false,pa=null,qa={ordering:null},ra={},sa={},ta={setPostToFeed:true,sort:true,showMoreComments:true,showMoreReplies:true,toggleVisibility:true},ua={addComment:true};function va(db){!cb.hasOwnProperty(db)?ca(0):undefined;}function wa(){!Array.isArray(la)?ca(0):undefined;!(ma instanceof Object)?ca(0):undefined;}function xa(db,eb){if(!ta[db]&&!bb.isLoggedIn()){var fb=ua[db]?null:eb;v.login(null,null,z._("Please Login to Comment"),{},ya.bind(null,fb));return;}eb.call();}function ya(db,eb){na.user.id=eb.user;na.user.uri=eb.profileUrl;na.user.thumbSrc=eb.profilePic;na.user.actorIDs=eb.actorIDs;if(eb.fbDtsg)q.setToken(eb.fbDtsg);db&&db.call();bb.emit('change');bb.emit('login');}function za(db,eb,fb){return fb.indexOf(db)===eb;}function ab(db,eb){if(!na.channelURL)return;Object.assign(eb,{type:db,href:na.href});y.send(eb,na.channelURL);}var bb={LOGGED_OUT_USER:'0',getCommentIDs:function(){return la;},getByID:function(db){wa();return ea(ma)[db];},isOptimisticComment:function(db){return db.id.startsWith(ha);},getCurrentSorting:function(){return ea(qa.ordering);},getTargetFBID:function(){return ea(na.targetFBID);},getCommentsCount:function(){wa();return na.totalCount;},getUser:function(){return na.user;},getIframeReferer:function(){return na.iframeReferer;},getAuthor:function(db){return this.getByID(this.getByID(db).authorID);},getPageSize:function(){return ga;},getCommentBodyTruncationLimits:function(){return ka;},getComposerSearchSource:function(){return na.composerSearchSource;},getMirroredPage:function(){return na.mirroredPage;},getMinFeedLength:function(){return na.minFeedLength+1;},isMirrored:function(){return this.getMirroredPage()!=null;},isReply:function(db){var eb=this.getByID(db);return eb.targetID!==this.getTargetFBID();},setActor:function(db){na.user=na.actors[db];},getPostToFeed:function(){return oa;},setPostToFeed:function(db){oa=db;},setAttachedphoto:function(db){pa=db;},setCreateComposerState:function(db,eb){ra[eb||ha]=db;this.emit('composerChange');},getCreateComposerState:function(db){return ra[db||ha]||null;},getCreateComposerContent:function(db){return this._editorStateToComposerPayload(this.getCreateComposerState(db));},isEmptyCreateComposer:function(db){return this.getCreateComposerContent(db).visibleValue.trim()==='';},setEditComposerState:function(db,eb){sa[eb]=db;this.emit('composerChange');},getEditComposerState:function(db){return sa[db];},getEditComposerContent:function(db){return this._editorStateToComposerPayload(this.getEditComposerState(db));},isEmptyEditComposer:function(db){return this.getEditComposerContent(db).visibleValue.trim()==='';},_editorStateToComposerPayload:function(db){if(!db)return ia;var eb=db.getCurrentContent(),fb=ba(eb),gb=aa(eb);return {visibleValue:fb,encodedValue:gb};},getActorIDs:function(){return Object.keys(na.actors);},getModerateURL:function(){return na.moderateURL;},isLoggedIn:function(){return na.user.id!==bb.LOGGED_OUT_USER;},isMobile:function(){return na.isMobile;},useLegacyMentionsInput:function(){return this.isMobile();},isViewerModerator:function(){return na.isModerator;},hasUnloadedComments:function(){return !!na.afterCursor;},hasUnloadedReplies:function(db){var eb=this.getByID(db).public_replies;if(!eb)return false;if(eb.afterCursor)return true;if((!eb.commentIDs||eb.commentIDs.length===0)&&eb.totalCount>0)return true;return false;},getUnloadedCommentsCount:function(){return na.totalCount-la.length;},getDialogWidth:function(){return Math.min(document.body.offsetWidth-10,this.isMobile()?320:445);},dispatcherIndex:p.register(function(db){var eb;va(db.action);xa(db.action,(eb=cb[db.action]).bind.apply(eb,[cb].concat(db.args)));}),init:function(db,eb,fb){na=eb;this.updateCommentData(db,fb);Object.keys(na.actors).forEach(function(gb){return ma[gb]=na.actors[gb];});this.setActor(na.userID);},updateCommentData:function(db,eb){la=db.commentIDs;ma=this.initComments(la,db.idMap);qa.ordering=eb;},initComment:function(db){db.collapsed=false;db.editor=false;db.composer=false;db.deleted=false;db.flagged=false;return db;},initComments:function(db,eb){db.forEach((function(fb){return eb[fb]=this.initComment(eb[fb]);}).bind(this));return eb;},emit:undefined,addListener:undefined,removeCurrentListener:undefined,ActionHandler:undefined};da(bb,ja);var cb={ban:function(db){var eb=bb.getByID(db);eb.deleted=true;bb.emit('change');var fb=i.getURIBuilder().setString('comment_id',db).getURI();new h(fb).setMethod('POST').setData({ban:true,source:n.URL}).send();},hide:function(db){var eb=bb.getByID(db);eb.deleted=true;bb.emit('change');var fb=u.getURIBuilder().setInt('url_id',na.targetFBID).setEnum('action',m.DELETE).setEnum('type',o.APPROVED).getURI();new h(fb).setData({comment_ids:[db]}).setMethod('POST').send();},addComment:function(){var db=bb.getCreateComposerContent(),eb=j.getURIBuilder().setInt('target_id',na.targetFBID).getURI();new h(eb).setData({app_id:na.appID,av:bb.getUser().id,text:db.encodedValue,attached_photo_fbid:pa?ea(pa.fbid):0,post_to_feed:bb.getPostToFeed(),iframe_referer:na.iframeReferer}).setMethod('POST').setHandler((function(fb){var gb=fb.payload,hb=gb.commentID;this._prependComment(gb.idMap[hb]);delete ra[ha];bb.emit('composerCommentAdded',{});ab('commentCreated',{commentID:hb,message:db.visibleValue});if(gb.sentryAction)bb.emit('sentryAction',gb.sentryAction,hb);}).bind(this)).setErrorHandler(function(fb){delete ma[ha];la.shift();bb.emit('change');bb.emit('postError',fb);}).send();this._prependComment({authorID:na.user.id,targetID:na.targetFBID,body:{text:db.visibleValue}});},addReply:function(db){var eb=bb.getCreateComposerContent(db),fb=k.getURIBuilder().setString('parent_comment_id',db).getURI(),gb=ha+fa();new h(fb).setData({app_id:na.appID,av:bb.getUser().id,text:eb.encodedValue,attached_photo_fbid:pa?ea(pa.fbid):0,iframe_referer:na.iframeReferer,replied_to:bb.getByID(db).replyToCommentID}).setMethod('POST').setHandler(function(jb){var kb=bb.getByID(db),lb=Object.assign({},kb.public_replies);Object.assign(ma,jb.payload.idMap);kb=bb.getByID(db);kb.public_replies=lb;delete ma[gb];delete ra[db];la.splice(la.indexOf(gb),1);kb.composer=false;delete kb.replyToCommentID;kb.public_replies.commentIDs.pop();kb.public_replies.commentIDs.push(jb.payload.commentID);ab('commentCreated',{commentID:jb.payload.commentID,parentCommentID:db,message:eb.visibleValue});bb.emit('change');}).setErrorHandler(function(jb){delete ma[gb];la.splice(la.indexOf(gb),1);hb=bb.getByID(db);hb.public_replies.commentIDs.pop();hb.public_replies.totalCount--;hb.composer=false;delete hb.replyToCommentID;bb.emit('change');bb.emit('postError',jb);}).send();var hb=bb.getByID(db),ib=Object.assign({},hb.public_replies);if(!ib.commentIDs)ib.commentIDs=[];if(!ib.totalCount)ib.totalCount=0;ib.totalCount++;ib.commentIDs.push(gb);hb.public_replies=ib;ma[gb]={authorID:na.user.id,body:{text:eb.visibleValue},targetID:db,id:gb};la.push(gb);bb.emit('change');},_prependComment:function(db){if(!db.id){db.id=ha;}else{la.shift();delete ma[ha];}la.unshift(db.id);ma[db.id]=bb.initComment(db);bb.emit('change');},edit:function(db){bb.getByID(db).editor=true;bb.emit('change');},saveEdit:function(db){var eb=JSON.parse(JSON.stringify(bb.getByID(db))),fb=r.getURIBuilder().getURI(),gb=bb.getEditComposerContent(db);new h(fb).setMethod('POST').setData({app_id:na.appID,text:gb.encodedValue,comment_id:db,av:bb.getAuthor(db).id,iframe_referer:na.iframeReferer}).setHandler(function(ib){var jb=ib.payload;ma[jb.commentID]=bb.initComment(jb.idMap[jb.commentID]);delete sa[db];bb.emit('change');}).setErrorHandler(function(ib){eb.editor=false;Object.assign(bb.getByID(db),eb);bb.emit('change');bb.emit('postError',ib);}).send();var hb=bb.getByID(db);hb.editor=false;hb.body.text=gb.visibleValue;delete hb.ranges;bb.emit('change');},cancelEdit:function(db){var eb=bb.getByID(db);eb.editor=false;bb.emit('change');},'delete':function(db){var eb=bb.getByID(db);eb.deleted=true;var fb=l.getURIBuilder().getURI();new h(fb).setData({app_id:na.appID,comment_id:db,av:bb.getAuthor(db).id,iframe_referer:na.iframeReferer}).setMethod('POST').setHandler(function(){return (ab('commentRemoved',{commentID:db}));}).setErrorHandler(function(gb){var hb=bb.getByID(db);hb.deleted=false;bb.emit('change');}).send();bb.emit('change');},like:function(db){var eb=bb.getByID(db),fb=t.getURIBuilder().setBool('action_like',!eb.hasLiked).getURI();new h(fb).setData({app_id:na.appID,comment_id:eb.id,iframe_referer:na.iframeReferer}).setMethod('POST').setHandler(function(gb){var hb=gb.payload;Object.assign(ma[hb.commentID],bb.initComment(hb.idMap[hb.commentID]));bb.emit('change');}).setErrorHandler(function(gb){eb.likeCount--;eb.hasLiked=false;bb.emit('postError',gb);}).send();eb.hasLiked=!eb.hasLiked;if(eb.hasLiked){eb.likeCount++;}else if(eb.likeCount>0)eb.likeCount--;ma[eb.id]=eb;bb.emit('change');},sort:function(db){var eb=w.getURIBuilder().setInt('target_id',na.targetFBID).setEnum('ordering',db).getURI();new h(eb).setMethod('POST').setData({app_id:na.appID,limit:bb.getPageSize(),iframe_referer:na.iframeReferer}).setHandler(function(fb){var gb=fb.payload;na.afterCursor=gb.afterCursor;bb.updateCommentData(gb,db);bb.emit('sortingCompleted');bb.emit('change');}).send();},showMoreComments:function(){var db=w.getURIBuilder().setInt('target_id',na.targetFBID).setEnum('ordering',bb.getCurrentSorting()).getURI();new h(db).setMethod('POST').setData({app_id:na.appID,after_cursor:na.afterCursor,limit:bb.getPageSize(),deeplinked_comment_id:na.deeplinkedCommentID,iframe_referer:na.iframeReferer}).setHandler(function(eb){var fb=eb.payload;na.afterCursor=fb.afterCursor;la=la.concat(fb.commentIDs).filter(za);ma=Object.assign(ma,bb.initComments(fb.commentIDs,fb.idMap));bb.emit('moreCommentsCompleted');bb.emit('change');}).setErrorHandler(function(eb){bb.emit('postError',eb);bb.emit('moreCommentsCompleted');}).send();},setUser:function(db){bb.setActor(db);bb.emit('composerChange');},setPostToFeed:function(db){bb.setPostToFeed(db);},showMoreReplies:function(db){var eb=x.getURIBuilder().setString('comment_id',db).getURI(),fb=bb.getByID(db).public_replies;new h(eb).setMethod('POST').setData({app_id:na.appID,after_cursor:fb.afterCursor,limit:bb.getPageSize(),iframe_referer:na.iframeReferer}).setHandler(function(gb){var hb=gb.payload;ma=Object.assign(bb.initComments(hb.commentIDs,hb.idMap),ma);fb.afterCursor=hb.afterCursor;fb.commentIDs=fb.commentIDs.concat(hb.commentIDs).filter(za);bb.emit('moreRepliesCompleted',{commentID:db});bb.emit('change');}).setErrorHandler(function(gb){bb.emit('postError',gb);bb.emit('moreRepliesCompleted',{commentID:db});}).send();},toggleVisibility:function(db){var eb=bb.getByID(db);eb.collapsed=!eb.collapsed;bb.emit('change');},flag:function(db){ma[db].flagged=true;this._sendFlagOrUnflagRequest(db,'flag');bb.emit('change');},unflag:function(db){ma[db].flagged=false;this._sendFlagOrUnflagRequest(db,'unflag');bb.emit('change');},_sendFlagOrUnflagRequest:function(db,eb){var fb=s.getURIBuilder().getURI();new h(fb).setData({app_id:na.appID,comment_id:db,iframe_referer:na.iframeReferer,unflag:eb==='unflag'}).setMethod('POST').setErrorHandler(function(gb){ma[db].flagged=!ma[db].flagged;bb.emit('postError',gb);}).send();},report:function(db){window.open(bb.getByID(db).reportURI,'_blank');},showReplyComposer:function(db){var eb=bb.getByID(db);if(bb.isReply(db)){var fb=db;eb=bb.getByID(eb.targetID);eb.replyToCommentID=fb;}eb.composer=true;bb.emit('change');},cancelReply:function(db){var eb=bb.getByID(db);eb.composer=false;delete eb.replyToCommentID;bb.emit('change');}};bb.ActionHandler=cb;f.exports=bb;},null);
__d('CommentsPluginActions',['CommentsPluginStore','DevxProxyActions'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new i(h);},null);
__d('CommentsPluginHeader.react',['CommentsPluginActions','CommentsPluginStore','DeveloperCommentsPluginOrdering','LeftRight.react','Link.react','React','XUISelector.react','XUISpinner.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;'use strict';var u=n.Option;s=babelHelpers.inherits(v,m.Component);t=s&&s.prototype;function v(w){t.constructor.call(this,w);this.state={sorting:false};var x=this;x.$CommentsPluginHeader1=this.$CommentsPluginHeader1.bind(this);}v.prototype.$CommentsPluginHeader1=function(event){this.setState({sorting:true});i.addListener('sortingCompleted',(function(){this.setState({sorting:false});i.removeCurrentListener();}).bind(this));h.sort(event.value);};v.prototype.render=function(){var w=null;if(i.getModerateURL())w=m.createElement('span',null,m.createElement('span',{className:"_52bm"},'|'),m.createElement(l,{href:i.getModerateURL(),target:'_blank'},r._("Moderation Tool")));return (m.createElement(k,{className:"_491z"},m.createElement('span',null,m.createElement(p,{weight:'bold'},i.getCommentsCount()!==1?r._("{count} Comments",[r.param('count',i.getCommentsCount())]):r._("1 Comment")),w),m.createElement('div',null,this.state.sorting?m.createElement(o,{size:'small',className:"_3-90"}):null,m.createElement('span',{className:"_pup"},r._("Sort by")),' ',m.createElement(n,{alignh:'right',className:"_3-8_",initialValue:i.getCurrentSorting(),onChange:this.$CommentsPluginHeader1},j.__types.map(function(x){return (m.createElement(u,{value:x,key:x},j.__labels[x]));})))));};f.exports=v;},null);
__d('CommentsPluginAction',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={EDIT:'edit',DELETE:'delete',FLAG:'flag',UNFLAG:'unflag',BAN:'ban',HIDE:'hide',REPORT:'report',COLLAPSE:'collapse',SHOW:'show',getLabel:function(j){switch(j){case i.COLLAPSE:return h._("Collapse comment");case i.SHOW:return h._("Show comment");case i.EDIT:return h._("Edit comment");case i.DELETE:return h._("Delete comment");case i.FLAG:return h._("Flag comment");case i.UNFLAG:return h._("Unflag comment");case i.BAN:return h._("Ban user");case i.HIDE:return h._("Hide comment");case i.REPORT:return h._("Report to Facebook");}},getMenuActions:function(){return [i.COLLAPSE,i.SHOW,i.EDIT,i.DELETE,i.FLAG,i.UNFLAG,i.BAN,i.HIDE,i.REPORT];}};f.exports=i;},null);
__d('MixinCommentsPluginConfirmAction',['CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','React','Set','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u={requiresConfirmation:function(v){var w=new l([h.DELETE,h.BAN,h.HIDE]);return w.has(v);},confirmAction:function(v){this.setState({actionConfirmationShown:true,action:v});},_onActionConfirmed:function(){i[this.state.action](this.props.commentID);this.setState({actionConfirmationShown:false});},_onActionCancelled:function(){this.setState({actionConfirmationShown:false});},_getActionMetadata:function(v){switch(v){case h.DELETE:return {body:s._("Are you sure you want to delete this comment?"),button_label:s._("Confirm Delete")};case h.BAN:return {body:s._("Are you sure you want to ban this user?"),button_label:s._("Confirm Ban")};case h.HIDE:return {body:s._("Are you sure you want to hide this comment?"),button_label:s._("Confirm Hide")};default:t(0);}},renderActionConfirmationDialog:function(){var v=this.state.action;if(!v)return null;var w=this._getActionMetadata(v);return (k.createElement(m,{shown:this.state.actionConfirmationShown,width:j.getDialogWidth()},k.createElement(r,{showCloseButton:false},h.getLabel(v)),k.createElement(n,null,w.body),k.createElement(q,null,k.createElement(p,{onClick:this._onActionCancelled}),k.createElement(o,{use:'confirm',label:w.button_label,onClick:this._onActionConfirmed}))));}};f.exports=u;},null);
__d('CommentsPluginCommentActions.react',['ActionList.react','CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','Image.react','Link.react','MixinCommentsPluginConfirmAction','React','UFICommentMetadata.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=o.createClass({displayName:'CommentsPluginCommentActions',mixins:[n],propTypes:{commentID:s.string.isRequired},getInitialState:function(){return {deleteConfirmationShown:false,action:null};},_onLikeAction:function(){j.like(this.props.commentID);},_onReply:function(){j.showReplyComposer(this.props.commentID);},_onFlag:function(){j.flag(this.props.commentID);},_getLikeActionElem:function(u){if(!u.canLike&&k.isLoggedIn())return null;return (o.createElement(m,{onClick:this._onLikeAction},u.hasLiked?r._("Unlike"):r._("Like")));},render:function(){var u=k.getByID(this.props.commentID);return (o.createElement(h,{className:"_2vq9"},this._getLikeActionElem(u),o.createElement(m,{onClick:this._onReply},r._("Reply")),k.isMobile()?u.canEdit?o.createElement(m,{onClick:this.confirmAction.bind(this,i.DELETE)},r._("Delete")):o.createElement(m,{onClick:this._onFlag},r._("Flag")):null,u.likeCount?o.createElement('span',null,o.createElement(l,{src:'/images/ufi/fbfeed/like.png',className:"_3-8_ _4iy4"}),u.likeCount):null,o.createElement(p,{comment:u,permalink:u.permalink,shortenTimestamp:true,showPermalink:!k.isReply(this.props.commentID),permalinkTarget:'_parent'}),k.isMobile()?this.renderActionConfirmationDialog():null));}});f.exports=t;},null);
__d('CommentsPluginComposerMirroringNotice.react',['CommentsPluginStore','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=i.PropTypes;l=babelHelpers.inherits(o,i.Component);m=l&&l.prototype;o.prototype.render=function(){var p=h.getMirroredPage();if(!p)return null;return (i.createElement('div',{className:"_5sge _2ph-"},p.name?this.props.isReply?k._("Your reply may also appear on {page name}'s Facebook Page.",[k.param('page name',i.createElement('a',{href:p.uri,target:'blank'},p.name))]):k._("Your comment may also appear on {page name}'s Facebook Page.",[k.param('page name',i.createElement('a',{href:p.uri,target:'blank'},p.name))]):this.props.isReply?k._("Your reply may also appear on Facebook."):k._("Your comment may also appear on Facebook.")));};function o(){l.apply(this,arguments);}o.propTypes={isReply:n.bool};f.exports=o;},null);
__d('CommentsPluginProfilePicture.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=h.PropTypes;j=babelHelpers.inherits(m,h.Component);k=j&&j.prototype;m.prototype.render=function(){return (h.createElement('a',babelHelpers._extends({},this.props,{href:this.props.href}),h.createElement('img',{className:(!this.props.isReply?"_1ci":'')+(this.props.isReply?' '+"_1cj":''),src:this.props.src})));};function m(){j.apply(this,arguments);}m.propTypes={href:l.string.isRequired,src:l.string.isRequired,isReply:l.bool};f.exports=m;},null);
__d('CommentsPluginComposer.react',['ActorURI','CommentsPluginStore','CommentsPluginComposerMirroringNotice.react','CommentsPluginConfig','CommentsPluginProfilePicture.react','DraftEntity','EditorState','MentionsInput.react','React','UFIAttachPhotoSection.react','UFIAttachedPhotoPreview.react','UFIImageBlock.react','UFICommentUtils.react','XUITypeaheadView.react','createEditorStateWithEntities','cx','fbt','getMentionsInputDecorator','getVisibleValueForContentState','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba,ca;'use strict';var da=p.PropTypes,ea=19;function fa(ha){return m.create('MENTION','IMMUTABLE',{id:ha.id});}ba=babelHelpers.inherits(ga,p.Component);ca=ba&&ba.prototype;function ga(ha,ia){ca.constructor.call(this,ha,ia);this.state=this.$CommentsPluginComposer1();var ja=this;ja.$CommentsPluginComposer2=this.$CommentsPluginComposer2.bind(this);ja.$CommentsPluginComposer3=this.$CommentsPluginComposer3.bind(this);}ga.prototype.$CommentsPluginComposer1=function(){var ha=null,ia=null,ja=this.props.prefillText;if(ja){ha=this.$CommentsPluginComposer4(ja);if(this.props.editCommentID){i.setEditComposerState(ha,this.props.editCommentID);}else i.setCreateComposerState(ha,this.props.parentCommentIDOfNewReply);}else{if(this.props.editCommentID){ia=i.getByID(this.props.editCommentID);ha=v({text:ia.body.text,ranges:t.shallowCopyRanges(ia.ranges).filter(function(ma){return !ma.entity.external;}),decorator:y(),entityCreationFn:fa});}else if(this.props.parentCommentIDOfNewReply){ia=i.getByID(this.props.parentCommentIDOfNewReply);if(ia.replyToCommentID&&i.getAuthor(ia.replyToCommentID).id!==i.getUser().id){var ka=i.getAuthor(ia.replyToCommentID),la={id:ka.id,text:ka.name,offset:0,length:ka.name.length,entity:{id:ka.id}};ha=n.moveFocusToEnd(v({text:ka.name+' ',ranges:[la],decorator:y(),entityCreationFn:fa}));}}if(!ha)ha=n.createEmpty(y());}return {editorState:ha,expanded:ja||!!this.props.alwaysExpanded};};ga.prototype.$CommentsPluginComposer4=function(ha){return v({text:ha,decorator:y()});};ga.prototype.$CommentsPluginComposer5=function(){return !this.props.editCommentID&&!this.props.parentCommentIDOfNewReply;};ga.prototype.getPhotoUploadData=function(){var ha=i.getUser().id,ia={profile_id:ha,target_id:this.props.targetID,source:ea};ia[h.PARAMETER_ACTOR]=ha;return ia;};ga.prototype.onPhotoUploadComplete=function(ha){if(!this.state.isLoadingPhoto)return;var ia=ha.getPayload();if(ia&&ia.fbid){i.setAttachedphoto(ia);this.setState({attachedPhoto:ia,isLoadingPhoto:false});}else this.onRemoveAttachedPhotoPreviewClicked(null);};ga.prototype.resetAttachedPhoto=function(){i.setAttachedphoto(undefined);this.setState({attachedPhoto:null,isLoadingPhoto:false});};ga.prototype.onRemoveAttachedPhotoPreviewClicked=function(event){this.resetAttachedPhoto();};ga.prototype.prepareForAttachedPhotoPreview=function(){i.setAttachedphoto(undefined);this.setState({attachedPhoto:null,isLoadingPhoto:true});};ga.prototype.componentDidMount=function(){i.addListener('composerCommentAdded',(function(event){if(this.$CommentsPluginComposer5()){var ha=this.$CommentsPluginComposer1();ha.expanded=true;this.setState(ha);if(this.refs.composer.style)this.refs.composer.style.cssText='';}}).bind(this));if(!this.$CommentsPluginComposer5())this.refs.composer.focus();};ga.prototype.$CommentsPluginComposer2=function(ha){this.setState({editorState:ha});if(this.props.editCommentID){i.setEditComposerState(ha,this.props.editCommentID);}else i.setCreateComposerState(ha,this.props.parentCommentIDOfNewReply);};ga.prototype.$CommentsPluginComposer6=function(){if(this.props.editCommentID)return i.isReply(this.props.editCommentID);return !!this.props.parentCommentIDOfNewReply;};ga.prototype.$CommentsPluginComposer3=function(){this.setState({expanded:true});};ga.prototype.setFileInput=function(ha,ia){this.setState({fileInput:ha,fileUploader:ia});};ga.prototype.$CommentsPluginComposer7=function(){return z(this.state.editorState.getCurrentContent());};ga.prototype.$CommentsPluginComposer8=function(ha){var ia=ha.target,ja=ia.value;ia.value='';ia.value=ja;this.$CommentsPluginComposer3();};ga.prototype.$CommentsPluginComposer9=function(ha){var ia=ha.target,ja=ia.scrollHeight;if(ia.offsetHeight<ja)ia.style.cssText='height:'+ja+'px';this.$CommentsPluginComposer2(v({text:ia.value}));};ga.prototype.$CommentsPluginComposer10=function(){var ha=this.props.placeholder||x._("Add a comment...");if(i.useLegacyMentionsInput())return (p.createElement('textarea',{className:"_1cb"+(' '+"_1u9t")+(this.props.readOnly?' '+"_5pu_":''),placeholder:ha,ref:'composer',onFocus:this.$CommentsPluginComposer8.bind(this),onChange:this.$CommentsPluginComposer9.bind(this),readOnly:this.props.readOnly,value:this.$CommentsPluginComposer7()}));return (p.createElement(o,{className:"_1cb"+(this.props.readOnly?' '+"_5pu_":''),editorState:this.state.editorState,mentionsSource:i.getComposerSearchSource(),onChange:this.$CommentsPluginComposer2,onFocus:this.$CommentsPluginComposer3,placeholder:ha,readOnly:this.props.readOnly,typeaheadView:u,ref:'composer'}));};ga.prototype.render=function(){var ha=this.props.editCommentID?i.getAuthor(this.props.editCommentID):ha=i.getUser(),ia=this.$CommentsPluginComposer6();return (p.createElement(s,{spacing:'medium',className:aa("_4uyl"+(ia?' '+"_1zz6":'')+(!this.state.expanded?' '+"_1zz7":'')+(!!this.state.expanded?' '+"_1zz8":''),this.props.className)},i.isMobile()?p.createElement('div',null):p.createElement(l,{href:ha.uri,src:ha.thumbSrc,isReply:ia,target:'_blank'}),p.createElement('div',null,p.createElement('div',{className:'UFIInputContainer'},this.$CommentsPluginComposer10(),p.createElement('div',{className:"UFICommentAttachmentButtons"+(' '+"clearfix")+(!k.commentsPluginZemeckisAttachments||!this.props.allowPhotoAttachments?' '+"hidden_elem":'')},p.createElement(q,{onPhotoUploadComplete:this.onPhotoUploadComplete.bind(this),getPhotoUploadData:this.getPhotoUploadData.bind(this),prepareForAttachedPhotoPreview:this.prepareForAttachedPhotoPreview.bind(this),setFileInput:this.setFileInput.bind(this),attachment:this.state.attachedPhoto}))),p.createElement(r,{attachedPhoto:this.state.attachedPhoto,onRemoveAttachedPhotoPreview:this.onRemoveAttachedPhotoPreviewClicked.bind(this),isLoadingPhoto:this.state.isLoadingPhoto}),this.state.expanded?p.createElement('div',{className:"_4uym"},p.createElement(j,{isReply:ia}),this.props.children):null)));};ga.propTypes={editCommentID:da.string,parentCommentIDOfNewReply:da.string,readOnly:da.bool,placeholder:da.node,alwaysExpanded:da.bool};f.exports=ga;},null);
__d('CommentsPluginComposerEdit.react',['CommentsPluginActions','CommentsPluginComposer.react','CommentsPluginStore','React','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=k.PropTypes;o=babelHelpers.inherits(r,k.Component);p=o&&o.prototype;function r(s,t){p.constructor.call(this,s,t);this.state={waitingAsyncResponse:false};var u=this;u.$CommentsPluginComposerEdit1=this.$CommentsPluginComposerEdit1.bind(this);u.$CommentsPluginComposerEdit2=this.$CommentsPluginComposerEdit2.bind(this);this.$CommentsPluginComposerEdit3=null;}r.prototype.componentDidMount=function(){this.$CommentsPluginComposerEdit3=j.addListener('composerChange',(function(){return this.forceUpdate();}).bind(this));};r.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerEdit3)this.$CommentsPluginComposerEdit3.remove();};r.prototype.$CommentsPluginComposerEdit1=function(){this.setState({waitingAsyncResponse:true});h.saveEdit(this.props.commentID);};r.prototype.$CommentsPluginComposerEdit2=function(){h.cancelEdit(this.props.commentID);};r.prototype.$CommentsPluginComposerEdit4=function(){return (this.state.waitingAsyncResponse||j.isEmptyEditComposer(this.props.commentID));};r.prototype.render=function(){var s=j.getByID(this.props.commentID);return (k.createElement(i,{alwaysExpanded:true,prefillText:s.prefillText,readOnly:this.state.waitingAsyncResponse,allowPhotoAttachments:true,editCommentID:this.props.commentID},k.createElement('div',{className:"_5tr6 clearfix _2ph_"},k.createElement(l,{disabled:this.$CommentsPluginComposerEdit4(),label:n._("Save"),use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit1}),k.createElement(l,{disabled:this.state.waitingAsyncResponse,label:n._("Cancel"),use:'default',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit2})),this.props.children));};r.propTypes={commentID:q.string.isRequired};f.exports=r;},null);
__d('CommentsPluginMenu.react',['CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','Image.react','MixinCommentsPluginConfirmAction','ReactXUIMenu','PopoverMenu.react','React','Tooltip','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=m.Item,u=o.createClass({displayName:'CommentsPluginMenu',mixins:[l],propTypes:{commentID:s.string.isRequired},getInitialState:function(){return {opened:false,actionConfirmationShown:false,action:null};},_onMenuShow:function(){this.setState({opened:true});},_onMenuHide:function(){this.setState({opened:false});},_toggleVisibility:function(){i.toggleVisibility(this.props.commentID);},_onAction:function(v,event){var w=event.item.getValue();if(this.requiresConfirmation(w)){this.confirmAction(w);}else if(w===h.SHOW||w===h.COLLAPSE){this._toggleVisibility();}else i[w](this.props.commentID);},_getMenuItem:function(v,w){var x=j.isReply(w.id);switch(v){case h.DELETE:case h.EDIT:if(!w.canEdit)return null;break;case h.FLAG:if(w.canEdit||w.collapsed||w.flagged)return null;break;case h.UNFLAG:if(w.canEdit||!w.flagged)return null;break;case h.SHOW:if(x||!w.collapsed)return null;break;case h.COLLAPSE:if(x||w.collapsed||w.flagged)return null;break;case h.BAN:case h.HIDE:if(!j.isViewerModerator())return null;break;case h.REPORT:if(!w.reportURI)return null;break;default:break;}return (o.createElement(t,{value:v,key:v},h.getLabel(v)));},render:function(){var v=j.getByID(this.props.commentID);return (o.createElement('div',null,o.createElement(n,{alignh:'right',onShow:this._onMenuShow,onHide:this._onMenuHide,menu:o.createElement(m,{onItemClick:this._onAction},h.getMenuActions().map((function(w){return this._getMenuItem(w,v);}).bind(this)))},o.createElement('a',null,o.createElement(k,babelHelpers._extends({},p.propsFor(q._("Menu")),{src:r('/images/plugins/comments/chevron-down.png')})))),this.renderActionConfirmationDialog()));},isOpen:function(){return this.state.opened;}});f.exports=u;},null);
__d('CommentsPluginAuthorSelector.react',['ActorSelector.react','CommentsPluginActions','CommentsPluginStore','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=babelHelpers.inherits(o,k.Component);n=m&&m.prototype;function o(p){n.constructor.call(this,p);var q=this;q.$CommentsPluginAuthorSelector1=this.$CommentsPluginAuthorSelector1.bind(this);}o.prototype.$CommentsPluginAuthorSelector1=function(p){i.setUser(p.value);};o.prototype.$CommentsPluginAuthorSelector2=function(p){return l._("Commenting as {actorName}",[l.param('actorName',p)]);};o.prototype.render=function(){var p=j.getActorIDs();return (p.length>1?k.createElement('div',{className:this.props.className},k.createElement(h,{actorIDs:p,coverEnabled:false,selectedActorID:j.getUser().id,onChange:this.$CommentsPluginAuthorSelector1,tooltipConstructor:this.$CommentsPluginAuthorSelector2})):null);};f.exports=o;},null);
__d('CommentsPluginComposerReply.react',['CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginStore','React','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';var r=l.PropTypes;p=babelHelpers.inherits(s,l.Component);q=p&&p.prototype;function s(t,u){q.constructor.call(this,t,u);this.state={waitingAsyncResponse:false};var v=this;v.$CommentsPluginComposerReply1=this.$CommentsPluginComposerReply1.bind(this);v.$CommentsPluginComposerReply2=this.$CommentsPluginComposerReply2.bind(this);this.$CommentsPluginComposerReply3=null;}s.prototype.componentDidMount=function(){this.$CommentsPluginComposerReply3=k.addListener('composerChange',(function(){return this.forceUpdate();}).bind(this));};s.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerReply3)this.$CommentsPluginComposerReply3.remove();};s.prototype.$CommentsPluginComposerReply1=function(){this.setState({waitingAsyncResponse:true});h.addReply(this.props.commentID);this.refs.composer.resetAttachedPhoto();};s.prototype.$CommentsPluginComposerReply2=function(){h.cancelReply(this.props.commentID);};s.prototype.$CommentsPluginComposerReply4=function(){return (this.state.waitingAsyncResponse||k.isEmptyCreateComposer(this.props.commentID));};s.prototype.render=function(){var t=k.getByID(this.props.commentID);return (l.createElement(j,{allowPhotoAttachments:true,ref:'composer',alwaysExpanded:true,prefillText:t.prefillText,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,placeholder:o._("Add a reply...")},l.createElement('div',{className:"_5tr6 clearfix _2ph_"},l.createElement(m,{disabled:this.$CommentsPluginComposerReply4(),label:o._("Reply"),use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerReply1}),l.createElement(m,{disabled:this.state.waitingAsyncResponse,label:o._("Cancel"),use:'default',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerReply2}),l.createElement(i,{className:'rfloat'}))));};s.propTypes={commentID:r.string.isRequired};f.exports=s;},null);
__d('CommentsPluginComment.react',['ActorBio.react','Badge.react','CenteredContainer.react','CommentsPluginActions','CommentsPluginCommentActions.react','CommentsPluginComposerEdit.react','CommentsPluginConfig','CommentsPluginProfilePicture.react','CommentsPluginMenu.react','CommentsPluginComposerReply.react','CommentsPluginStore','HovercardLinkInterpolator','Link.react','Image.react','React','TruncatedTextWithEntities.react','UFIActor.react','UFICommentAttachment.react','UFICommentUtils.react','UFIImageBlock.react','XUIGrayText.react','XUISpinner.react','XUIText.react','cx','fbt','joinClasses','nullthrows','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){if(c.__markCompiled)c.__markCompiled();var ja,ka,la,ma;'use strict';var na=v.PropTypes;ja=babelHelpers.inherits(oa,v.Component);ka=ja&&ja.prototype;function oa(qa,ra){ka.constructor.call(this,qa,ra);this.state={showMenu:false};var sa=this;sa.$CommentsPluginComment1=this.$CommentsPluginComment1.bind(this);sa.$CommentsPluginComment2=this.$CommentsPluginComment2.bind(this);}oa.prototype.$CommentsPluginComment1=function(){this.setState({showMenu:true});};oa.prototype.$CommentsPluginComment2=function(){if(!this.refs.menu||!this.refs.menu.isOpen())this.setState({showMenu:false});};oa.prototype.render=function(){var qa=ha(r.getByID(this.props.commentID));if(qa.deleted)return null;if(qa.editor)return (v.createElement('div',{className:"_3-8y"},v.createElement(m,{commentID:this.props.commentID}),v.createElement(pa,{commentID:this.props.commentID,className:"_3j_p"})));var ra=z.shallowCopyRanges(qa.ranges),sa=z.getCommentTextWithTruncatedURIs(ra,qa.body.text),ta=null;if(qa.collapsed||qa.flagged){ta=v.createElement('div',{className:"_5mlf"},v.createElement(ba,{shade:'light'},fa._("This comment is {action}",[fa.param('action',qa.collapsed?'collapsed':'flagged')])));}else{if(qa.photoComment&&n.commentsPluginZemeckisAttachments)qa.photo_comment=qa.photoComment.photo_comment;ta=v.createElement('div',{className:"_30o4"},sa?v.createElement(w,babelHelpers._extends({className:"_5mdd",text:sa,ranges:ra,interpolator:function(ya,za){return (s(ya,za,'_blank'));}},r.getCommentBodyTruncationLimits(),{renderEmoticons:true,renderEmoji:true})):null,v.createElement(y,{comment:qa,disableTheater:true}));}var ua=ha(r.getByID(qa.authorID)),va=r.isOptimisticComment(qa),wa=r.isReply(this.props.commentID),xa=r.isMobile();return (v.createElement(aa,{className:"_3-8y"+(!wa?' '+"_5nz1":''),spacing:'medium',onMouseEnter:this.$CommentsPluginComment1,onMouseLeave:this.$CommentsPluginComment2},v.createElement(o,{href:ua.uri,src:ua.thumbSrc,isReply:wa,target:'_blank'}),v.createElement('div',null,v.createElement(x,{author:ua,delimiter:xa?' ':undefined,key:'author',showHovercard:!xa,target:'_blank'},ua.isVerified?v.createElement(i,{key:'badge',size:'xsmall',type:'verified'}):null,ua.bio?v.createElement('div',{className:"_4q1v"},v.createElement(h,{target:'_blank',preferredTypes:ua.bio.preferredTypes,stats:ua.bio.stats})):null),v.createElement('div',{className:"_3-8m"},ta),va||qa.collapsed||qa.flagged?null:v.createElement(l,{commentID:this.props.commentID}),v.createElement(pa,{commentID:this.props.commentID})),v.createElement('div',null,this.state.showMenu&&!va&&!xa?v.createElement(p,{ref:'menu',commentID:this.props.commentID}):null)));};oa.propTypes={commentID:na.string.isRequired};la=babelHelpers.inherits(pa,v.Component);ma=la&&la.prototype;function pa(qa,ra){'use strict';ma.constructor.call(this,qa,ra);this.state={loading:false};var sa=this;sa.$CommentsPluginCommentReplies1=this.$CommentsPluginCommentReplies1.bind(this);}pa.prototype.$CommentsPluginCommentReplies1=function(){'use strict';this.setState({loading:true});r.addListener('moreRepliesCompleted',(function(event){if(this.props.commentID===event.commentID){this.setState({loading:false});r.removeCurrentListener();}}).bind(this));k.showMoreReplies(this.props.commentID);};pa.prototype.render=function(){'use strict';var qa=r.getByID(this.props.commentID),ra=qa.public_replies;if(ra===undefined||qa.collapsed===true||qa.flagged)return qa.composer?v.createElement('div',{className:ga("_44ri _2pis _3-8y",this.props.className)},v.createElement(q,{commentID:this.props.commentID})):null;if(!ra.commentIDs)ra.commentIDs=[];var sa=ra.totalCount-ra.commentIDs.length,ta=r.getPageSize(),ua=sa<ta?sa:ta;return (v.createElement('div',{className:ga("_44ri _2pis",this.props.className)},ra.commentIDs.map((function(va){if(va===this.props.commentID)return null;return v.createElement(oa,{commentID:va,key:va});}).bind(this)),r.hasUnloadedReplies(this.props.commentID)&&sa>0?v.createElement('div',{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?v.createElement(j,null,v.createElement(ca,{size:'small'})):v.createElement(t,{onClick:this.$CommentsPluginCommentReplies1},v.createElement(da,{size:'small',weight:'bold'},ua===1?fa._("Show 1 more reply in this thread"):fa._("Show {number of replies} more replies in this thread",[fa.param('number of replies',ua)])),v.createElement(u,{src:ia({name:'triangle-down'})}))):null,qa.composer?v.createElement('div',{className:"_3-8y"},v.createElement(q,{commentID:this.props.commentID})):null));};pa.propTypes={commentID:na.string.isRequired};f.exports=oa;},null);
__d('CommentsPluginLoadMore.react',['CenteredContainer.react','CommentsPluginActions','CommentsPluginStore','React','XUIButton.react','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=babelHelpers.inherits(r,k.Component);q=p&&p.prototype;function r(s,t){q.constructor.call(this,s,t);this.state={loading:false};var u=this;u.$CommentsPluginLoadMore1=this.$CommentsPluginLoadMore1.bind(this);}r.prototype.$CommentsPluginLoadMore1=function(){i.showMoreComments();this.setState({loading:true});j.addListener('moreCommentsCompleted',(function(){this.setState({loading:false});j.removeCurrentListener();}).bind(this));};r.prototype.render=function(){var s=j.getUnloadedCommentsCount();if(!j.hasUnloadedComments()||s<1)return null;if(this.state.loading)return (k.createElement(h,{className:"_ndl"},k.createElement(m,{size:'large'})));var t=j.getPageSize(),u=s<t?s:t;return (k.createElement('div',{className:"_5o4h"},k.createElement(l,{className:"_1gl3",role:'button',onClick:this.$CommentsPluginLoadMore1,label:u===1?o._("Load 1 more comment"):o._("Load {pagesize} more comments",[o.param('pagesize',u)])})));};f.exports=r;},null);
__d('CommentsPluginListing.react',['CommentsPluginComment.react','CommentsPluginLoadMore.react','CommentsPluginStore','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=babelHelpers.inherits(o,k.Component);n=m&&m.prototype;o.prototype.render=function(){var p=j.getCommentIDs(),q=p.map(function(r){return k.createElement(h,{commentID:r,key:r});});return (k.createElement('div',{className:"_4k-6"},q,k.createElement(i,null)));};function o(){m.apply(this,arguments);}f.exports=o;},null);
__d('CommentsPluginComposerComment.react',['CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginStore','Grid.react','InputLabel.react','LeftRight.react','React','XUIButton.react','XUICheckboxInput.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v=l.GridItem;t=babelHelpers.inherits(w,o.Component);u=t&&t.prototype;function w(x){u.constructor.call(this,x);this.state={selectedActorID:k.getUser().id,postToFeed:false,ablePostToFeed:false,commentLength:0,waitingAsyncResponse:false};var y=this;y.$CommentsPluginComposerComment1=this.$CommentsPluginComposerComment1.bind(this);y.$CommentsPluginComposerComment2=this.$CommentsPluginComposerComment2.bind(this);}w.prototype.componentDidMount=function(){k.addListener('composerChange',(function(){var x=k.getCreateComposerContent().visibleValue,y=x.trim().length;this.setState({commentLength:y,ablePostToFeed:y>=k.getMinFeedLength()});}).bind(this));k.addListener('composerCommentAdded',(function(){this.setState({waitingAsyncResponse:false});this.refs.composer.resetAttachedPhoto();}).bind(this));k.addListener('login',(function(){this.setState({waitingAsyncResponse:false});}).bind(this));};w.prototype.$CommentsPluginComposerComment2=function(event){var x=!this.state.postToFeed;this.setState({postToFeed:x});h.setPostToFeed(x);};w.prototype.$CommentsPluginComposerComment1=function(){this.setState({waitingAsyncResponse:true});h.setPostToFeed(this.state.postToFeed);h.addComment();};w.prototype.$CommentsPluginComposerComment3=function(){return (this.state.waitingAsyncResponse||k.isEmptyCreateComposer());};w.prototype.render=function(){var x=k.isLoggedIn()?s._("Post"):s._("Log In to Post"),y=k.getMinFeedLength()-this.state.commentLength;return (o.createElement(j,{allowPhotoAttachments:true,ref:'composer',className:"_2392",prefillText:this.props.prefillText,readOnly:this.state.waitingAsyncResponse},o.createElement(n,{className:"_5tr6 clearfix _2ph-"},!k.isMirrored()?o.createElement(l,{cols:1},o.createElement(v,null,o.createElement(m,{className:"_1u0n"},o.createElement(q,{checked:this.state.postToFeed,onChange:this.$CommentsPluginComposerComment2}),o.createElement('label',{className:"_3-99 _2ern _50f8 _5kx5"},s._("Also post on Facebook")))),o.createElement(v,null,this.state.postToFeed&&!this.state.ablePostToFeed?s._({"*":{"character":"Write {lengthRemain} more character to post to Facebook","characters":"Write {lengthRemain} more characters to post to Facebook"}},[s.param('lengthRemain',y,[0]),s['enum'](y===1?'character':'characters',{character:'character',characters:'characters'})]):o.createElement('span',null))):o.createElement('span',null),o.createElement('span',null,o.createElement(p,{disabled:this.$CommentsPluginComposerComment3(),label:x,use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerComment1}),o.createElement(i,{className:'rfloat'})))));};f.exports=w;},null);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/{comment_id}\/async\/confirm\/publish\/dialog\/",{comment_id:{type:"String",required:true},__asyncDialog:{type:"Int"}});},null,{});
__d('CommentsPlugin.react',['AsyncDialog','AsyncRequest','CommentsPluginFooter.react','CommentsPluginHeader.react','CommentsPluginListing.react','CommentsPluginComposerComment.react','CommentsPluginStore','XPluginCommentsConfirmPostToFacebookAsyncDialogController','DOMQuery','PluginResize','React','ReactDOM','CommentsPluginSentryAction','SimpleXUIDialog','cx','fbt','getElementPosition','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z,aa;'use strict';var ba=r.PropTypes;z=babelHelpers.inherits(ca,r.Component);aa=z&&z.prototype;ca.prototype.componentWillMount=function(){n.init(this.props.comments,this.props.meta,this.props.initialOrdering);n.addListener('postError',function(da){u.show(da.errorSummary||w._("Sorry, something went wrong. Please try again later."),null,null,{width:n.getDialogWidth()});});n.addListener('sentryAction',function(da,ea){switch(da){case t.CONFIRM_POST_TO_PROFILE:var fa=o.getURIBuilder().setString('comment_id',ea).getURI();h.send(new i(fa).setData({iframe_referer:n.getIframeReferer()}));break;default:break;}});};ca.prototype.componentDidMount=function(){var da=s.findDOMNode(this),ea=n.isMobile();if(ea){q.autoHeight(null,da);}else q.auto(da);new q(function(){ea?null:da.offsetWidth;},function(){var fa=da.offsetHeight,ga=p.scry(document.body,'.uiLayer:not(.hidden_elem) .uiContextualLayer');if(ga.length===0)return fa;var ha=x(ga[0]);return Math.max(fa,ha.y+ha.height+1);},'resize.iframe',false).resize().auto();n.addListener('change',(function(){this.forceUpdate();}).bind(this));};ca.prototype.render=function(){return (r.createElement('div',{className:y("_56q9",this.props.className)},r.createElement('div',{className:"_2pi8"},r.createElement(k,null),r.createElement(m,null),r.createElement(l,null),r.createElement(j,null))));};function ca(){z.apply(this,arguments);}ca.propTypes={comments:ba.object.isRequired,meta:ba.object.isRequired,initialOrdering:ba.string.isRequired};f.exports=ca;},null);